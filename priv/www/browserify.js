(function(){var require = function (file, cwd) {
    var resolved = require.resolve(file, cwd || '/');
    var mod = require.modules[resolved];
    if (!mod) throw new Error(
        'Failed to resolve module ' + file + ', tried ' + resolved
    );
    var cached = require.cache[resolved];
    var res = cached? cached.exports : mod();
    return res;
}

require.paths = [];
require.modules = {};
require.cache = {};
require.extensions = [".js",".coffee"];

require._core = {
    'assert': true,
    'events': true,
    'fs': true,
    'path': true,
    'vm': true
};

require.resolve = (function () {
    return function (x, cwd) {
        if (!cwd) cwd = '/';
        
        if (require._core[x]) return x;
        var path = require.modules.path();
        cwd = path.resolve('/', cwd);
        var y = cwd || '/';
        
        if (x.match(/^(?:\.\.?\/|\/)/)) {
            var m = loadAsFileSync(path.resolve(y, x))
                || loadAsDirectorySync(path.resolve(y, x));
            if (m) return m;
        }
        
        var n = loadNodeModulesSync(x, y);
        if (n) return n;
        
        throw new Error("Cannot find module '" + x + "'");
        
        function loadAsFileSync (x) {
            x = path.normalize(x);
            if (require.modules[x]) {
                return x;
            }
            
            for (var i = 0; i < require.extensions.length; i++) {
                var ext = require.extensions[i];
                if (require.modules[x + ext]) return x + ext;
            }
        }
        
        function loadAsDirectorySync (x) {
            x = x.replace(/\/+$/, '');
            var pkgfile = path.normalize(x + '/package.json');
            if (require.modules[pkgfile]) {
                var pkg = require.modules[pkgfile]();
                var b = pkg.browserify;
                if (typeof b === 'object' && b.main) {
                    var m = loadAsFileSync(path.resolve(x, b.main));
                    if (m) return m;
                }
                else if (typeof b === 'string') {
                    var m = loadAsFileSync(path.resolve(x, b));
                    if (m) return m;
                }
                else if (pkg.main) {
                    var m = loadAsFileSync(path.resolve(x, pkg.main));
                    if (m) return m;
                }
            }
            
            return loadAsFileSync(x + '/index');
        }
        
        function loadNodeModulesSync (x, start) {
            var dirs = nodeModulesPathsSync(start);
            for (var i = 0; i < dirs.length; i++) {
                var dir = dirs[i];
                var m = loadAsFileSync(dir + '/' + x);
                if (m) return m;
                var n = loadAsDirectorySync(dir + '/' + x);
                if (n) return n;
            }
            
            var m = loadAsFileSync(x);
            if (m) return m;
        }
        
        function nodeModulesPathsSync (start) {
            var parts;
            if (start === '/') parts = [ '' ];
            else parts = path.normalize(start).split('/');
            
            var dirs = [];
            for (var i = parts.length - 1; i >= 0; i--) {
                if (parts[i] === 'node_modules') continue;
                var dir = parts.slice(0, i + 1).join('/') + '/node_modules';
                dirs.push(dir);
            }
            
            return dirs;
        }
    };
})();

require.alias = function (from, to) {
    var path = require.modules.path();
    var res = null;
    try {
        res = require.resolve(from + '/package.json', '/');
    }
    catch (err) {
        res = require.resolve(from, '/');
    }
    var basedir = path.dirname(res);
    
    var keys = (Object.keys || function (obj) {
        var res = [];
        for (var key in obj) res.push(key);
        return res;
    })(require.modules);
    
    for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        if (key.slice(0, basedir.length + 1) === basedir + '/') {
            var f = key.slice(basedir.length);
            require.modules[to + f] = require.modules[basedir + f];
        }
        else if (key === basedir) {
            require.modules[to] = require.modules[basedir];
        }
    }
};

(function () {
    var process = {};
    
    require.define = function (filename, fn) {
        if (require.modules.__browserify_process) {
            process = require.modules.__browserify_process();
        }
        
        var dirname = require._core[filename]
            ? ''
            : require.modules.path().dirname(filename)
        ;
        
        var require_ = function (file) {
            return require(file, dirname);
        };
        require_.resolve = function (name) {
            return require.resolve(name, dirname);
        };
        require_.modules = require.modules;
        require_.define = require.define;
        require_.cache = require.cache;
        var module_ = { exports : {} };
        
        require.modules[filename] = function () {
            require.cache[filename] = module_;
            fn.call(
                module_.exports,
                require_,
                module_,
                module_.exports,
                dirname,
                filename,
                process
            );
            return module_.exports;
        };
    };
})();


require.define("path",Function(['require','module','exports','__dirname','__filename','process'],"function filter (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (fn(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length; i >= 0; i--) {\n    var last = parts[i];\n    if (last == '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Regex to split a filename into [*, dir, basename, ext]\n// posix version\nvar splitPathRe = /^(.+\\/(?!$)|\\/)?((?:.+?)?(\\.[^.]*)?)$/;\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\nvar resolvedPath = '',\n    resolvedAbsolute = false;\n\nfor (var i = arguments.length; i >= -1 && !resolvedAbsolute; i--) {\n  var path = (i >= 0)\n      ? arguments[i]\n      : process.cwd();\n\n  // Skip empty and invalid entries\n  if (typeof path !== 'string' || !path) {\n    continue;\n  }\n\n  resolvedPath = path + '/' + resolvedPath;\n  resolvedAbsolute = path.charAt(0) === '/';\n}\n\n// At this point the path should be resolved to a full absolute path, but\n// handle relative paths to be safe (might happen when process.cwd() fails)\n\n// Normalize the path\nresolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\nvar isAbsolute = path.charAt(0) === '/',\n    trailingSlash = path.slice(-1) === '/';\n\n// Normalize the path\npath = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n  \n  return (isAbsolute ? '/' : '') + path;\n};\n\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    return p && typeof p === 'string';\n  }).join('/'));\n};\n\n\nexports.dirname = function(path) {\n  var dir = splitPathRe.exec(path)[1] || '';\n  var isWindows = false;\n  if (!dir) {\n    // No dirname\n    return '.';\n  } else if (dir.length === 1 ||\n      (isWindows && dir.length <= 3 && dir.charAt(1) === ':')) {\n    // It is just a slash or a drive letter with a slash\n    return dir;\n  } else {\n    // It is a full dirname, strip trailing slash\n    return dir.substring(0, dir.length - 1);\n  }\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPathRe.exec(path)[2] || '';\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPathRe.exec(path)[3] || '';\n};\n\n//@ sourceURL=path"));

require.define("__browserify_process",Function(['require','module','exports','__dirname','__filename','process'],"var process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var queue = [];\n    var canPost = typeof window !== 'undefined'\n        && window.postMessage && window.addEventListener\n    ;\n    \n    if (canPost) {\n        window.addEventListener('message', function (ev) {\n            if (ev.source === window && ev.data === 'browserify-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n    }\n    \n    return function (fn) {\n        if (canPost) {\n            queue.push(fn);\n            window.postMessage('browserify-tick', '*');\n        }\n        else setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nprocess.binding = function (name) {\n    if (name === 'evals') return (require)('vm')\n    else throw new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    process.cwd = function () { return cwd };\n    process.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\n//@ sourceURL=__browserify_process"));

require.define("/node_modules/domready/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./ready.js\"}\n//@ sourceURL=/node_modules/domready/package.json"));

require.define("/node_modules/domready/ready.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * domready (c) Dustin Diaz 2012 - License MIT\n  */\n!function (name, definition) {\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n}('domready', function (ready) {\n\n  var fns = [], fn, f = false\n    , doc = document\n    , testEl = doc.documentElement\n    , hack = testEl.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , addEventListener = 'addEventListener'\n    , onreadystatechange = 'onreadystatechange'\n    , readyState = 'readyState'\n    , loaded = /^loade|c/.test(doc[readyState])\n\n  function flush(f) {\n    loaded = 1\n    while (f = fns.shift()) f()\n  }\n\n  doc[addEventListener] && doc[addEventListener](domContentLoaded, fn = function () {\n    doc.removeEventListener(domContentLoaded, fn, f)\n    flush()\n  }, f)\n\n\n  hack && doc.attachEvent(onreadystatechange, fn = function () {\n    if (/^c/.test(doc[readyState])) {\n      doc.detachEvent(onreadystatechange, fn)\n      flush()\n    }\n  })\n\n  return (ready = hack ?\n    function (fn) {\n      self != top ?\n        loaded ? fn() : fns.push(fn) :\n        function () {\n          try {\n            testEl.doScroll('left')\n          } catch (e) {\n            return setTimeout(function() { ready(fn) }, 50)\n          }\n          fn()\n        }()\n    } :\n    function (fn) {\n      loaded ? fn() : fns.push(fn)\n    })\n})\n//@ sourceURL=/node_modules/domready/ready.js"));

require.define("/node_modules/step/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"lib/step\"}\n//@ sourceURL=/node_modules/step/package.json"));

require.define("/node_modules/step/lib/step.js",Function(['require','module','exports','__dirname','__filename','process'],"/*\nCopyright (c) 2011 Tim Caswell <tim@creationix.com>\n\nMIT License\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n\n// Inspired by http://github.com/willconant/flow-js, but reimplemented and\n// modified to fit my taste and the node.JS error handling system.\nfunction Step() {\n  var steps = Array.prototype.slice.call(arguments),\n      pending, counter, results, lock;\n\n  // Define the main callback that's given as `this` to the steps.\n  function next() {\n    counter = pending = 0;\n\n    // Check if there are no steps left\n    if (steps.length === 0) {\n      // Throw uncaught errors\n      if (arguments[0]) {\n        throw arguments[0];\n      }\n      return;\n    }\n\n    // Get the next step to execute\n    var fn = steps.shift();\n    results = [];\n\n    // Run the step in a try..catch block so exceptions don't get out of hand.\n    try {\n      lock = true;\n      var result = fn.apply(next, arguments);\n    } catch (e) {\n      // Pass any exceptions on through the next callback\n      next(e);\n    }\n\n    if (counter > 0 && pending == 0) {\n      // If parallel() was called, and all parallel branches executed\n      // syncronously, go on to the next step immediately.\n      next.apply(null, results);\n    } else if (result !== undefined) {\n      // If a syncronous return is used, pass it to the callback\n      next(undefined, result);\n    }\n    lock = false;\n  }\n\n  // Add a special callback generator `this.parallel()` that groups stuff.\n  next.parallel = function () {\n    var index = 1 + counter++;\n    pending++;\n\n    return function () {\n      pending--;\n      // Compress the error from any result to the first argument\n      if (arguments[0]) {\n        results[0] = arguments[0];\n      }\n      // Send the other results as arguments\n      results[index] = arguments[1];\n      if (!lock && pending === 0) {\n        // When all parallel branches done, call the callback\n        next.apply(null, results);\n      }\n    };\n  };\n\n  // Generates a callback generator for grouped results\n  next.group = function () {\n    var localCallback = next.parallel();\n    var counter = 0;\n    var pending = 0;\n    var result = [];\n    var error = undefined;\n\n    function check() {\n      if (pending === 0) {\n        // When group is done, call the callback\n        localCallback(error, result);\n      }\n    }\n    process.nextTick(check); // Ensures that check is called at least once\n\n    // Generates a callback for the group\n    return function () {\n      var index = counter++;\n      pending++;\n      return function () {\n        pending--;\n        // Compress the error from any result to the first argument\n        if (arguments[0]) {\n          error = arguments[0];\n        }\n        // Send the other results as arguments\n        result[index] = arguments[1];\n        if (!lock) { check(); }\n      };\n    };\n  };\n\n  // Start the engine an pass nothing to the first step.\n  next();\n}\n\n// Tack on leading and tailing steps for input and output and return\n// the whole thing as a function.  Basically turns step calls into function\n// factories.\nStep.fn = function StepFn() {\n  var steps = Array.prototype.slice.call(arguments);\n  return function () {\n    var args = Array.prototype.slice.call(arguments);\n\n    // Insert a first step that primes the data stream\n    var toRun = [function () {\n      this.apply(null, args);\n    }].concat(steps);\n\n    // If the last arg is a function add it as a last step\n    if (typeof args[args.length-1] === 'function') {\n      toRun.push(args.pop());\n    }\n\n\n    Step.apply(null, toRun);\n  }\n}\n\n\n// Hook into commonJS module systems\nif (typeof module !== 'undefined' && \"exports\" in module) {\n  module.exports = Step;\n}\n\n//@ sourceURL=/node_modules/step/lib/step.js"));

require.define("/node_modules/bean/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./bean.js\"}\n//@ sourceURL=/node_modules/bean/package.json"));

require.define("/node_modules/bean/bean.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * bean.js - copyright Jacob Thornton 2011\n  * https://github.com/fat/bean\n  * MIT License\n  * special thanks to:\n  * dean edwards: http://dean.edwards.name/\n  * dperini: https://github.com/dperini/nwevents\n  * the entire mootools team: github.com/mootools/mootools-core\n  */\n!function (name, context, definition) {\n  if (typeof module !== 'undefined') module.exports = definition(name, context);\n  else if (typeof define === 'function' && typeof define.amd  === 'object') define(definition);\n  else context[name] = definition(name, context);\n}('bean', this, function (name, context) {\n  var win = window\n    , old = context[name]\n    , overOut = /over|out/\n    , namespaceRegex = /[^\\.]*(?=\\..*)\\.|.*/\n    , nameRegex = /\\..*/\n    , addEvent = 'addEventListener'\n    , attachEvent = 'attachEvent'\n    , removeEvent = 'removeEventListener'\n    , detachEvent = 'detachEvent'\n    , ownerDocument = 'ownerDocument'\n    , targetS = 'target'\n    , qSA = 'querySelectorAll'\n    , doc = document || {}\n    , root = doc.documentElement || {}\n    , W3C_MODEL = root[addEvent]\n    , eventSupport = W3C_MODEL ? addEvent : attachEvent\n    , slice = Array.prototype.slice\n    , mouseTypeRegex = /click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i\n    , mouseWheelTypeRegex = /mouse.*(wheel|scroll)/i\n    , textTypeRegex = /^text/i\n    , touchTypeRegex = /^touch|^gesture/i\n    , ONE = {} // singleton for quick matching making add() do one()\n\n    , nativeEvents = (function (hash, events, i) {\n        for (i = 0; i < events.length; i++)\n          hash[events[i]] = 1\n        return hash\n      }({}, (\n          'click dblclick mouseup mousedown contextmenu ' +                  // mouse buttons\n          'mousewheel mousemultiwheel DOMMouseScroll ' +                     // mouse wheel\n          'mouseover mouseout mousemove selectstart selectend ' +            // mouse movement\n          'keydown keypress keyup ' +                                        // keyboard\n          'orientationchange ' +                                             // mobile\n          'focus blur change reset select submit ' +                         // form elements\n          'load unload beforeunload resize move DOMContentLoaded '+          // window\n          'readystatechange message ' +                                      // window\n          'error abort scroll ' +                                            // misc\n          (W3C_MODEL ? // element.fireEvent('onXYZ'... is not forgiving if we try to fire an event\n                       // that doesn't actually exist, so make sure we only do these on newer browsers\n            'show ' +                                                          // mouse buttons\n            'input invalid ' +                                                 // form elements\n            'touchstart touchmove touchend touchcancel ' +                     // touch\n            'gesturestart gesturechange gestureend ' +                         // gesture\n            'readystatechange pageshow pagehide popstate ' +                   // window\n            'hashchange offline online ' +                                     // window\n            'afterprint beforeprint ' +                                        // printing\n            'dragstart dragenter dragover dragleave drag drop dragend ' +      // dnd\n            'loadstart progress suspend emptied stalled loadmetadata ' +       // media\n            'loadeddata canplay canplaythrough playing waiting seeking ' +     // media\n            'seeked ended durationchange timeupdate play pause ratechange ' +  // media\n            'volumechange cuechange ' +                                        // media\n            'checking noupdate downloading cached updateready obsolete ' +     // appcache\n            '' : '')\n        ).split(' ')\n      ))\n\n    , customEvents = (function () {\n        var cdp = 'compareDocumentPosition'\n          , isAncestor = cdp in root\n              ? function (element, container) {\n                  return container[cdp] && (container[cdp](element) & 16) === 16\n                }\n              : 'contains' in root\n                ? function (element, container) {\n                    container = container.nodeType === 9 || container === window ? root : container\n                    return container !== element && container.contains(element)\n                  }\n                : function (element, container) {\n                    while (element = element.parentNode) if (element === container) return 1\n                    return 0\n                  }\n\n        function check(event) {\n          var related = event.relatedTarget\n          return !related\n            ? related === null\n            : (related !== this && related.prefix !== 'xul' && !/document/.test(this.toString()) && !isAncestor(related, this))\n        }\n\n        return {\n            mouseenter: { base: 'mouseover', condition: check }\n          , mouseleave: { base: 'mouseout', condition: check }\n          , mousewheel: { base: /Firefox/.test(navigator.userAgent) ? 'DOMMouseScroll' : 'mousewheel' }\n        }\n      }())\n\n    , fixEvent = (function () {\n        var commonProps = 'altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which'.split(' ')\n          , mouseProps = commonProps.concat('button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement'.split(' '))\n          , mouseWheelProps = mouseProps.concat('wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis'.split(' ')) // 'axis' is FF specific\n          , keyProps = commonProps.concat('char charCode key keyCode keyIdentifier keyLocation'.split(' '))\n          , textProps = commonProps.concat(['data'])\n          , touchProps = commonProps.concat('touches targetTouches changedTouches scale rotation'.split(' '))\n          , messageProps = commonProps.concat(['data', 'origin', 'source'])\n          , preventDefault = 'preventDefault'\n          , createPreventDefault = function (event) {\n              return function () {\n                if (event[preventDefault])\n                  event[preventDefault]()\n                else\n                  event.returnValue = false\n              }\n            }\n          , stopPropagation = 'stopPropagation'\n          , createStopPropagation = function (event) {\n              return function () {\n                if (event[stopPropagation])\n                  event[stopPropagation]()\n                else\n                  event.cancelBubble = true\n              }\n            }\n          , createStop = function (synEvent) {\n              return function () {\n                synEvent[preventDefault]()\n                synEvent[stopPropagation]()\n                synEvent.stopped = true\n              }\n            }\n          , copyProps = function (event, result, props) {\n              var i, p\n              for (i = props.length; i--;) {\n                p = props[i]\n                if (!(p in result) && p in event) result[p] = event[p]\n              }\n            }\n\n        return function (event, isNative) {\n          var result = { originalEvent: event, isNative: isNative }\n          if (!event)\n            return result\n\n          var props\n            , type = event.type\n            , target = event[targetS] || event.srcElement\n\n          result[preventDefault] = createPreventDefault(event)\n          result[stopPropagation] = createStopPropagation(event)\n          result.stop = createStop(result)\n          result[targetS] = target && target.nodeType === 3 ? target.parentNode : target\n\n          if (isNative) { // we only need basic augmentation on custom events, the rest is too expensive\n            if (type.indexOf('key') !== -1) {\n              props = keyProps\n              result.keyCode = event.keyCode || event.which\n            } else if (mouseTypeRegex.test(type)) {\n              props = mouseProps\n              result.rightClick = event.which === 3 || event.button === 2\n              result.pos = { x: 0, y: 0 }\n              if (event.pageX || event.pageY) {\n                result.clientX = event.pageX\n                result.clientY = event.pageY\n              } else if (event.clientX || event.clientY) {\n                result.clientX = event.clientX + doc.body.scrollLeft + root.scrollLeft\n                result.clientY = event.clientY + doc.body.scrollTop + root.scrollTop\n              }\n              if (overOut.test(type))\n                result.relatedTarget = event.relatedTarget || event[(type === 'mouseover' ? 'from' : 'to') + 'Element']\n            } else if (touchTypeRegex.test(type)) {\n              props = touchProps\n            } else if (mouseWheelTypeRegex.test(type)) {\n              props = mouseWheelProps\n            } else if (textTypeRegex.test(type)) {\n              props = textProps\n            } else if (type === 'message') {\n              props = messageProps\n            }\n            copyProps(event, result, props || commonProps)\n          }\n          return result\n        }\n      }())\n\n      // if we're in old IE we can't do onpropertychange on doc or win so we use doc.documentElement for both\n    , targetElement = function (element, isNative) {\n        return !W3C_MODEL && !isNative && (element === doc || element === win) ? root : element\n      }\n\n      // we use one of these per listener, of any type\n    , RegEntry = (function () {\n        function entry(element, type, handler, original, namespaces) {\n          var isNative = this.isNative = nativeEvents[type] && element[eventSupport]\n          this.element = element\n          this.type = type\n          this.handler = handler\n          this.original = original\n          this.namespaces = namespaces\n          this.custom = customEvents[type]\n          this.eventType = W3C_MODEL || isNative ? type : 'propertychange'\n          this.customType = !W3C_MODEL && !isNative && type\n          this[targetS] = targetElement(element, isNative)\n          this[eventSupport] = this[targetS][eventSupport]\n        }\n\n        entry.prototype = {\n            // given a list of namespaces, is our entry in any of them?\n            inNamespaces: function (checkNamespaces) {\n              var i, j\n              if (!checkNamespaces)\n                return true\n              if (!this.namespaces)\n                return false\n              for (i = checkNamespaces.length; i--;) {\n                for (j = this.namespaces.length; j--;) {\n                  if (checkNamespaces[i] === this.namespaces[j])\n                    return true\n                }\n              }\n              return false\n            }\n\n            // match by element, original fn (opt), handler fn (opt)\n          , matches: function (checkElement, checkOriginal, checkHandler) {\n              return this.element === checkElement &&\n                (!checkOriginal || this.original === checkOriginal) &&\n                (!checkHandler || this.handler === checkHandler)\n            }\n        }\n\n        return entry\n      }())\n\n    , registry = (function () {\n        // our map stores arrays by event type, just because it's better than storing\n        // everything in a single array. uses '$' as a prefix for the keys for safety\n        var map = {}\n\n          // generic functional search of our registry for matching listeners,\n          // `fn` returns false to break out of the loop\n          , forAll = function (element, type, original, handler, fn) {\n              if (!type || type === '*') {\n                // search the whole registry\n                for (var t in map) {\n                  if (t.charAt(0) === '$')\n                    forAll(element, t.substr(1), original, handler, fn)\n                }\n              } else {\n                var i = 0, l, list = map['$' + type], all = element === '*'\n                if (!list)\n                  return\n                for (l = list.length; i < l; i++) {\n                  if (all || list[i].matches(element, original, handler))\n                    if (!fn(list[i], list, i, type))\n                      return\n                }\n              }\n            }\n\n          , has = function (element, type, original) {\n              // we're not using forAll here simply because it's a bit slower and this\n              // needs to be fast\n              var i, list = map['$' + type]\n              if (list) {\n                for (i = list.length; i--;) {\n                  if (list[i].matches(element, original, null))\n                    return true\n                }\n              }\n              return false\n            }\n\n          , get = function (element, type, original) {\n              var entries = []\n              forAll(element, type, original, null, function (entry) { return entries.push(entry) })\n              return entries\n            }\n\n          , put = function (entry) {\n              (map['$' + entry.type] || (map['$' + entry.type] = [])).push(entry)\n              return entry\n            }\n\n          , del = function (entry) {\n              forAll(entry.element, entry.type, null, entry.handler, function (entry, list, i) {\n                list.splice(i, 1)\n                if (list.length === 0)\n                  delete map['$' + entry.type]\n                return false\n              })\n            }\n\n            // dump all entries, used for onunload\n          , entries = function () {\n              var t, entries = []\n              for (t in map) {\n                if (t.charAt(0) === '$')\n                  entries = entries.concat(map[t])\n              }\n              return entries\n            }\n\n        return { has: has, get: get, put: put, del: del, entries: entries }\n      }())\n\n    , selectorEngine = doc[qSA]\n        ? function (s, r) {\n            return r[qSA](s)\n          }\n        : function () {\n            throw new Error('Bean: No selector engine installed') // eeek\n          }\n\n    , setSelectorEngine = function (e) {\n        selectorEngine = e\n      }\n\n      // add and remove listeners to DOM elements\n    , listener = W3C_MODEL ? function (element, type, fn, add) {\n        element[add ? addEvent : removeEvent](type, fn, false)\n      } : function (element, type, fn, add, custom) {\n        if (custom && add && element['_on' + custom] === null)\n          element['_on' + custom] = 0\n        element[add ? attachEvent : detachEvent]('on' + type, fn)\n      }\n\n    , nativeHandler = function (element, fn, args) {\n        var beanDel = fn.__beanDel\n          , handler = function (event) {\n          event = fixEvent(event || ((this[ownerDocument] || this.document || this).parentWindow || win).event, true)\n          if (beanDel) // delegated event, fix the fix\n            event.currentTarget = beanDel.ft(event[targetS], element)\n          return fn.apply(element, [event].concat(args))\n        }\n        handler.__beanDel = beanDel\n        return handler\n      }\n\n    , customHandler = function (element, fn, type, condition, args, isNative) {\n        var beanDel = fn.__beanDel\n          , handler = function (event) {\n          var target = beanDel ? beanDel.ft(event[targetS], element) : this // deleated event\n          if (condition ? condition.apply(target, arguments) : W3C_MODEL ? true : event && event.propertyName === '_on' + type || !event) {\n            if (event) {\n              event = fixEvent(event || ((this[ownerDocument] || this.document || this).parentWindow || win).event, isNative)\n              event.currentTarget = target\n            }\n            fn.apply(element, event && (!args || args.length === 0) ? arguments : slice.call(arguments, event ? 0 : 1).concat(args))\n          }\n        }\n        handler.__beanDel = beanDel\n        return handler\n      }\n\n    , once = function (rm, element, type, fn, originalFn) {\n        // wrap the handler in a handler that does a remove as well\n        return function () {\n          rm(element, type, originalFn)\n          fn.apply(this, arguments)\n        }\n      }\n\n    , removeListener = function (element, orgType, handler, namespaces) {\n        var i, l, entry\n          , type = (orgType && orgType.replace(nameRegex, ''))\n          , handlers = registry.get(element, type, handler)\n\n        for (i = 0, l = handlers.length; i < l; i++) {\n          if (handlers[i].inNamespaces(namespaces)) {\n            if ((entry = handlers[i])[eventSupport])\n              listener(entry[targetS], entry.eventType, entry.handler, false, entry.type)\n            // TODO: this is problematic, we have a registry.get() and registry.del() that\n            // both do registry searches so we waste cycles doing this. Needs to be rolled into\n            // a single registry.forAll(fn) that removes while finding, but the catch is that\n            // we'll be splicing the arrays that we're iterating over. Needs extra tests to\n            // make sure we don't screw it up. @rvagg\n            registry.del(entry)\n          }\n        }\n      }\n\n    , addListener = function (element, orgType, fn, originalFn, args) {\n        var entry\n          , type = orgType.replace(nameRegex, '')\n          , namespaces = orgType.replace(namespaceRegex, '').split('.')\n\n        if (registry.has(element, type, fn))\n          return element // no dupe\n        if (type === 'unload')\n          fn = once(removeListener, element, type, fn, originalFn) // self clean-up\n        if (customEvents[type]) {\n          if (customEvents[type].condition)\n            fn = customHandler(element, fn, type, customEvents[type].condition, args, true)\n          type = customEvents[type].base || type\n        }\n        entry = registry.put(new RegEntry(element, type, fn, originalFn, namespaces[0] && namespaces))\n        entry.handler = entry.isNative ?\n          nativeHandler(element, entry.handler, args) :\n          customHandler(element, entry.handler, type, false, args, false)\n        if (entry[eventSupport])\n          listener(entry[targetS], entry.eventType, entry.handler, true, entry.customType)\n      }\n\n    , del = function (selector, fn, $) {\n            //TODO: findTarget (therefore $) is called twice, once for match and once for\n            // setting e.currentTarget, fix this so it's only needed once\n        var findTarget = function (target, root) {\n              var i, array = typeof selector === 'string' ? $(selector, root) : selector\n              for (; target && target !== root; target = target.parentNode) {\n                for (i = array.length; i--;) {\n                  if (array[i] === target)\n                    return target\n                }\n              }\n            }\n          , handler = function (e) {\n              var match = findTarget(e[targetS], this)\n              match && fn.apply(match, arguments)\n            }\n\n        handler.__beanDel = {\n            ft: findTarget // attach it here for customEvents to use too\n          , selector: selector\n          , $: $\n        }\n        return handler\n      }\n\n    , remove = function (element, typeSpec, fn) {\n        var k, type, namespaces, i\n          , rm = removeListener\n          , isString = typeSpec && typeof typeSpec === 'string'\n\n        if (isString && typeSpec.indexOf(' ') > 0) {\n          // remove(el, 't1 t2 t3', fn) or remove(el, 't1 t2 t3')\n          typeSpec = typeSpec.split(' ')\n          for (i = typeSpec.length; i--;)\n            remove(element, typeSpec[i], fn)\n          return element\n        }\n        type = isString && typeSpec.replace(nameRegex, '')\n        if (type && customEvents[type])\n          type = customEvents[type].type\n        if (!typeSpec || isString) {\n          // remove(el) or remove(el, t1.ns) or remove(el, .ns) or remove(el, .ns1.ns2.ns3)\n          if (namespaces = isString && typeSpec.replace(namespaceRegex, ''))\n            namespaces = namespaces.split('.')\n          rm(element, type, fn, namespaces)\n        } else if (typeof typeSpec === 'function') {\n          // remove(el, fn)\n          rm(element, null, typeSpec)\n        } else {\n          // remove(el, { t1: fn1, t2, fn2 })\n          for (k in typeSpec) {\n            if (typeSpec.hasOwnProperty(k))\n              remove(element, k, typeSpec[k])\n          }\n        }\n        return element\n      }\n\n      // 5th argument, $=selector engine, is deprecated and will be removed\n    , add = function (element, events, fn, delfn, $) {\n        var type, types, i, args\n          , originalFn = fn\n          , isDel = fn && typeof fn === 'string'\n\n        if (events && !fn && typeof events === 'object') {\n          for (type in events) {\n            if (events.hasOwnProperty(type))\n              add.apply(this, [ element, type, events[type] ])\n          }\n        } else {\n          args = arguments.length > 3 ? slice.call(arguments, 3) : []\n          types = (isDel ? fn : events).split(' ')\n          isDel && (fn = del(events, (originalFn = delfn), $ || selectorEngine)) && (args = slice.call(args, 1))\n          // special case for one()\n          this === ONE && (fn = once(remove, element, events, fn, originalFn))\n          for (i = types.length; i--;) addListener(element, types[i], fn, originalFn, args)\n        }\n        return element\n      }\n\n    , one = function () {\n        return add.apply(ONE, arguments)\n      }\n\n    , fireListener = W3C_MODEL ? function (isNative, type, element) {\n        var evt = doc.createEvent(isNative ? 'HTMLEvents' : 'UIEvents')\n        evt[isNative ? 'initEvent' : 'initUIEvent'](type, true, true, win, 1)\n        element.dispatchEvent(evt)\n      } : function (isNative, type, element) {\n        element = targetElement(element, isNative)\n        // if not-native then we're using onpropertychange so we just increment a custom property\n        isNative ? element.fireEvent('on' + type, doc.createEventObject()) : element['_on' + type]++\n      }\n\n    , fire = function (element, type, args) {\n        var i, j, l, names, handlers\n          , types = type.split(' ')\n\n        for (i = types.length; i--;) {\n          type = types[i].replace(nameRegex, '')\n          if (names = types[i].replace(namespaceRegex, ''))\n            names = names.split('.')\n          if (!names && !args && element[eventSupport]) {\n            fireListener(nativeEvents[type], type, element)\n          } else {\n            // non-native event, either because of a namespace, arguments or a non DOM element\n            // iterate over all listeners and manually 'fire'\n            handlers = registry.get(element, type)\n            args = [false].concat(args)\n            for (j = 0, l = handlers.length; j < l; j++) {\n              if (handlers[j].inNamespaces(names))\n                handlers[j].handler.apply(element, args)\n            }\n          }\n        }\n        return element\n      }\n\n    , clone = function (element, from, type) {\n        var i = 0\n          , handlers = registry.get(from, type)\n          , l = handlers.length\n          , args, beanDel\n\n        for (;i < l; i++) {\n          if (handlers[i].original) {\n            beanDel = handlers[i].handler.__beanDel\n            if (beanDel) {\n              args = [ element, beanDel.selector, handlers[i].type, handlers[i].original, beanDel.$]\n            } else\n              args = [ element, handlers[i].type, handlers[i].original ]\n            add.apply(null, args)\n          }\n        }\n        return element\n      }\n\n    , bean = {\n          add: add\n        , one: one\n        , remove: remove\n        , clone: clone\n        , fire: fire\n        , setSelectorEngine: setSelectorEngine\n        , noConflict: function () {\n            context[name] = old\n            return this\n          }\n      }\n\n  if (win[attachEvent]) {\n    // for IE, clean up on unload to avoid leaks\n    var cleanup = function () {\n      var i, entries = registry.entries()\n      for (i in entries) {\n        if (entries[i].type && entries[i].type !== 'unload')\n          remove(entries[i].element, entries[i].type)\n      }\n      win[detachEvent]('onunload', cleanup)\n      win.CollectGarbage && win.CollectGarbage()\n    }\n    win[attachEvent]('onunload', cleanup)\n  }\n\n  return bean\n})\n\n//@ sourceURL=/node_modules/bean/bean.js"));

require.define("/lib/templates.js",Function(['require','module','exports','__dirname','__filename','process'],"var hogan = require('hogan.js');exports.worker = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");if(_.s(_.f(\"queue_size\",c,p,1),c,p,0,15,127,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"<li id=\\\"builder-li-\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\" class=\\\"app-worker\\\"><a>\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\" <span class=\\\"badge\\\">\");_.b(_.v(_.f(\"queue_size\",c,p,0)));_.b(\"</span></a></li>\");_.b(\"\\n\");});c.pop();}if(!_.s(_.f(\"queue_size\",c,p,1),c,p,1,0,0,\"\")){_.b(\"<li id=\\\"builder-li-\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\" class=\\\"app-worker\\\"><a>\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</a></li>\");_.b(\"\\n\");};return _.fl();;});exports.logBuild = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<tr id=\\\"build-\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\" data-id=\\\"\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\" class=\\\"app-clickablerow\\\">\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"commit_id\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"started\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);if(_.s(_.f(\"finished\",c,p,1),c,p,0,154,505,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"    <td>\");_.b(\"\\n\" + i);if(_.s(_.f(\"succeeded\",c,p,1),c,p,0,186,227,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"        <i class=\\\"icon-ok\\\"></i>\");_.b(\"\\n\");});c.pop();}if(!_.s(_.f(\"succeeded\",c,p,1),c,p,1,0,0,\"\")){_.b(\"        <i class=\\\"icon-remove\\\"></i>\");_.b(\"\\n\");};_.b(\"        <a class=\\\"rebuild\\\" href=\\\"#\\\" data-commit=\\\"\");_.b(_.v(_.f(\"commit_id\",c,p,0)));_.b(\"\\\" data-project=\\\"\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\"><i class=\\\"icon-repeat\\\"></i></a>\");_.b(\"\\n\" + i);_.b(\"    </td>\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"timeDelta\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"time\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\");});c.pop();}if(!_.s(_.f(\"finished\",c,p,1),c,p,1,0,0,\"\")){_.b(\"    <td colspan=\\\"3\\\"><i class=\\\"icon-time\\\"></i></td>\");_.b(\"\\n\");};_.b(\"    <td>\");_.b(_.v(_.f(\"modules\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"    <td>\");_.b(_.v(_.f(\"tests\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"</tr>\");_.b(\"\\n\");return _.fl();;});exports.sidebar = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<li id=\\\"projects-header\\\" class=\\\"nav-header\\\">Projects</li>\");_.b(\"\\n\" + i);if(_.s(_.f(\"projects\",c,p,1),c,p,0,71,86,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(_.rp(\"project\",c,p,\"\"));});c.pop();}_.b(\"<li class=\\\"nav-header\\\">Project Actions</li>\");_.b(\"\\n\" + i);_.b(\"<li><a id=\\\"build-now\\\" href=\\\"#\\\"><i class=\\\"icon-repeat\\\"></i> Build now</a></li>\");_.b(\"\\n\" + i);_.b(\"<li><a href=\\\"/\");_.b(_.v(_.f(\"projectId\",c,p,0)));_.b(\"/edit\\\"><i class=\\\"icon-edit\\\"></i> Edit</a></li>\");_.b(\"\\n\" + i);_.b(\"<li><a href=\\\"/add\\\"><i class=\\\"icon-plus-sign\\\"></i> Add</a></li>\");_.b(\"\\n\" + i);_.b(\"<li class=\\\"nav-header\\\">Builders</li>\");_.b(\"\\n\" + i);if(_.s(_.f(\"workers\",c,p,1),c,p,0,408,422,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(_.rp(\"worker\",c,p,\"\"));});c.pop();}return _.fl();;});exports.run = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);_.b(\"        <h2><span class=\\\"label\\\">build</span> #\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</h2>\");_.b(\"\\n\" + i);_.b(\"        <table class=\\\"table table-bordered table-striped table-condensed\\\">\");_.b(\"\\n\" + i);_.b(\"            <thead>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <th colspan=\\\"2\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select>\");_.b(\"\\n\" + i);if(_.s(_.f(\"series\",c,p,1),c,p,0,332,431,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"key\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </th>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"            </thead>\");_.b(\"\\n\" + i);_.b(\"            <tbody>\");_.b(\"\\n\" + i);if(_.s(_.f(\"modules\",c,p,1),c,p,0,594,906,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td><h3>\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</h3></td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);if(_.s(_.f(\"test_cases\",c,p,1),c,p,0,716,874,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                <tr class=\\\"app-clickablerow\\\">\");_.b(\"\\n\" + i);_.b(\"                    <td><svg id=\\\"\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\" style=\\\"height:60px\\\"></svg></td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\");});c.pop();}});c.pop();}_.b(\"            </tbody>\");_.b(\"\\n\" + i);_.b(\"        </table>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\");return _.fl();;});exports.test = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <h2><span class=\\\"label\\\">test</span> \");_.b(_.v(_.f(\"moduleName\",c,p,0)));_.b(\" : \");_.b(_.v(_.f(\"testName\",c,p,0)));_.b(\"</h2>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\" + i);_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span6\\\">\");_.b(\"\\n\" + i);_.b(\"        <svg id=\\\"g-duration\\\" style=\\\"height:280px\\\"></svg>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span6\\\">\");_.b(\"\\n\" + i);_.b(\"        <svg id=\\\"g-cpu_load\\\" style=\\\"height:280px\\\"></svg>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\" + i);_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span6\\\">\");_.b(\"\\n\" + i);_.b(\"        <svg id=\\\"g-used_memory\\\" style=\\\"height:280px\\\"></svg>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span6\\\">\");_.b(\"\\n\" + i);_.b(\"        <svg id=\\\"g-cpu_util\\\" style=\\\"height:280px\\\"></svg>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\" + i);_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);_.b(\"        <table class=\\\"table table-bordered table-striped table-condensed\\\">\");_.b(\"\\n\" + i);_.b(\"            <thead>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <th>Build</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>Duration</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>CPU load</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>Memory utilization</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>CPU utilization</th>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"            </thead>\");_.b(\"\\n\" + i);_.b(\"            <tbody>\");_.b(\"\\n\" + i);if(_.s(_.f(\"runs\",c,p,1),c,p,0,996,1405,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td>#\");_.b(_.v(_.f(\"build_id\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"\");_.b(_.v(_.f(\"duration_class\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"duration_label\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"\");_.b(_.v(_.f(\"cpu_load_class\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"cpu_load_label\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"\");_.b(_.v(_.f(\"used_memory_class\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"used_memory_label\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"\");_.b(_.v(_.f(\"cpu_util_class\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"cpu_util_label\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\");});c.pop();}_.b(\"            </tbody>\");_.b(\"\\n\" + i);_.b(\"        </table>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\");return _.fl();;});exports.projectEdit = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);_.b(\"        <form class=\\\"form-horizontal\\\">\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\" for=\\\"id\\\">Identifier</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);_.b(\"                    <input type=\\\"text\\\" id=\\\"id\\\" value=\\\"\");_.b(_.v(_.d(\"project.id\",c,p,0)));_.b(\"\\\">\");_.b(\"\\n\" + i);_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\" for=\\\"repo_url\\\">Git repository URL</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);_.b(\"                    <input type=\\\"text\\\" id=\\\"repo_url\\\" value=\\\"\");_.b(_.v(_.d(\"project.repo_url\",c,p,0)));_.b(\"\\\">\");_.b(\"\\n\" + i);_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\" for=\\\"branch\\\">Branch</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);_.b(\"                    <input type=\\\"text\\\" id=\\\"branch\\\" value=\\\"\");_.b(_.v(_.d(\"project.branch\",c,p,0)));_.b(\"\\\">\");_.b(\"\\n\" + i);_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\" for=\\\"ondemand\\\">On demand</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);if(_.s(_.d(\"project.ondemand\",c,p,1),c,p,0,1115,1212,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                    <input type=\\\"checkbox\\\" id=\\\"ondemand\\\" checked=\\\"checked\\\">\");_.b(\"\\n\");});c.pop();}if(!_.s(_.d(\"project.ondemand\",c,p,1),c,p,1,0,0,\"\")){_.b(\"                    <input type=\\\"checkbox\\\" id=\\\"ondemand\\\">\");_.b(\"\\n\");};_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\" for=\\\"time\\\">Polling interval (milliseconds)</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);if(_.s(_.d(\"project.ondemand\",c,p,1),c,p,0,1634,1767,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                    <input disabled=\\\"disabled\\\" type=\\\"text\\\" id=\\\"time\\\" value=\\\"\");_.b(_.v(_.d(\"project.polling_strategy.time\",c,p,0)));_.b(\"\\\">\");_.b(\"\\n\");});c.pop();}if(!_.s(_.d(\"project.ondemand\",c,p,1),c,p,1,0,0,\"\")){_.b(\"                    <input type=\\\"text\\\" id=\\\"time\\\" value=\\\"\");_.b(_.v(_.d(\"project.polling_strategy.time\",c,p,0)));_.b(\"\\\">\");_.b(\"\\n\");};_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"control-group\\\">\");_.b(\"\\n\" + i);_.b(\"                <label class=\\\"control-label\\\">Build instructions</label>\");_.b(\"\\n\" + i);_.b(\"                <div class=\\\"controls\\\">\");_.b(\"\\n\" + i);_.b(\"                    <textarea id=\\\"build_instructions\\\">\");_.b(_.v(_.d(\"project.build_instructions\",c,p,0)));_.b(\"</textarea>\");_.b(\"\\n\" + i);_.b(\"                </div>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"            <div class=\\\"form-actions\\\">\");_.b(\"\\n\" + i);_.b(\"                <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\");_.b(_.v(_.f(\"action\",c,p,0)));_.b(\"</button>\");_.b(\"\\n\" + i);_.b(\"            </div>\");_.b(\"\\n\" + i);_.b(\"        </form>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\");return _.fl();;});exports.error = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<div class=\\\"alert alert-error\\\">\");_.b(\"\\n\" + i);_.b(\"    <h2>\");_.b(_.v(_.f(\"title\",c,p,0)));_.b(\"</h2>\");_.b(\"\\n\" + i);if(_.s(_.f(\"message\",c,p,1),c,p,0,71,101,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"    <h3>\");_.b(_.v(_.f(\"message\",c,p,0)));_.b(\"</h3>\");_.b(\"\\n\");});c.pop();}if(_.s(_.f(\"details\",c,p,1),c,p,0,130,162,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"    <pre>\");_.b(_.v(_.f(\"details\",c,p,0)));_.b(\"</pre>\");_.b(\"\\n\");});c.pop();}_.b(\"</div>\");_.b(\"\\n\");return _.fl();;});exports.compare = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);_.b(\"        <h2><span class=\\\"label\\\">test case comparison</span> versus</h2>\");_.b(\"\\n\" + i);_.b(\"        <table class=\\\"table table-bordered table-condensed\\\">\");_.b(\"\\n\" + i);_.b(\"            <thead>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <th class=\\\"app-a\\\">A</th>\");_.b(\"\\n\" + i);_.b(\"                    <th class=\\\"app-doublelabel\\\">&nbsp;</td>\");_.b(\"\\n\" + i);_.b(\"                    <th class=\\\"app-b\\\">B</th>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"            </thead>\");_.b(\"\\n\" + i);_.b(\"            <tbody>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-a\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"runA\\\" class=\\\"app-runs\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"runs\",c,p,1),c,p,0,593,689,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-doublelabel\\\">Build</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-b\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"runB\\\" class=\\\"app-runs\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"runs\",c,p,1),c,p,0,954,1050,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-a\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"moduleA\\\" class=\\\"app-modules\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"modulesA\",c,p,1),c,p,0,1309,1409,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-doublelabel\\\">Module</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-b\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"moduleB\\\" class=\\\"app-modules\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"modulesB\",c,p,1),c,p,0,1689,1789,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-a\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"testA\\\" class=\\\"app-tests\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"testsA\",c,p,1),c,p,0,2046,2146,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-doublelabel\\\">Test case</td>\");_.b(\"\\n\" + i);_.b(\"                    <td class=\\\"app-b\\\">\");_.b(\"\\n\" + i);_.b(\"                        <select id=\\\"testB\\\" class=\\\"app-tests\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"testsB\",c,p,1),c,p,0,2421,2521,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                            <option value=\\\"\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"name\",c,p,0)));_.b(\"</option>\");_.b(\"\\n\");});c.pop();}_.b(\"                        </select>\");_.b(\"\\n\" + i);_.b(\"                    </td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"            </tbody>\");_.b(\"\\n\" + i);_.b(\"        </table>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\" + i);_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);_.b(\"        <table class=\\\"table table-bordered table-striped table-condensed\\\">\");_.b(\"\\n\" + i);_.b(\"            <thead>\");_.b(\"\\n\" + i);_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <th>Metric</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>A</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>B</th>\");_.b(\"\\n\" + i);_.b(\"                    <th>B - A</th>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\" + i);_.b(\"            </thead>\");_.b(\"\\n\" + i);_.b(\"            <tbody>\");_.b(\"\\n\" + i);if(_.s(_.f(\"numbers\",c,p,1),c,p,0,3060,3296,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"                <tr>\");_.b(\"\\n\" + i);_.b(\"                    <td>\");_.b(_.v(_.f(\"series\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td>\");_.b(_.v(_.f(\"A\",c,p,0)));_.b(_.v(_.f(\"units\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td>\");_.b(_.v(_.f(\"B\",c,p,0)));_.b(_.v(_.f(\"units\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                    <td>\");_.b(_.v(_.f(\"delta\",c,p,0)));_.b(_.v(_.f(\"units\",c,p,0)));_.b(\"</td>\");_.b(\"\\n\" + i);_.b(\"                </tr>\");_.b(\"\\n\");});c.pop();}_.b(\"            </tbody>\");_.b(\"\\n\" + i);_.b(\"        </table>\");_.b(\"\\n\" + i);_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\" + i);_.b(\"<div class=\\\"row-fluid\\\">\");_.b(\"\\n\" + i);_.b(\"    <div class=\\\"span12\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"commits\",c,p,1),c,p,0,3434,3493,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"        <p>Commit \");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\" \");_.b(_.v(_.f(\"shortDescription\",c,p,0)));_.b(\"</p>\");_.b(\"\\n\");});c.pop();}_.b(\"    </div>\");_.b(\"\\n\" + i);_.b(\"</div>\");_.b(\"\\n\");return _.fl();;});exports.project = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");if(_.s(_.f(\"opened\",c,p,1),c,p,0,11,97,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(\"<li id=\\\"project-\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\" class=\\\"app-project active\\\"><a href=\\\"/\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</a></li>\");_.b(\"\\n\");});c.pop();}if(!_.s(_.f(\"opened\",c,p,1),c,p,1,0,0,\"\")){_.b(\"<li id=\\\"project-\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\" class=\\\"app-project\\\"><a href=\\\"/\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"\\\">\");_.b(_.v(_.f(\"id\",c,p,0)));_.b(\"</a></li>\");_.b(\"\\n\");};return _.fl();;});exports.log = new hogan.Template(function(c,p,i){var _=this;_.b(i=i||\"\");_.b(\"<h2><span class=\\\"label\\\">project</span> <span id=\\\"project-name\\\">\");_.b(_.v(_.d(\"project.id\",c,p,0)));_.b(\"</span></h2>\");_.b(\"\\n\" + i);_.b(\"<table class=\\\"table table-bordered table-striped table-condensed\\\">\");_.b(\"\\n\" + i);_.b(\"    <thead>\");_.b(\"\\n\" + i);_.b(\"        <tr>\");_.b(\"\\n\" + i);_.b(\"            <th>#</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Commit</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Started</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Success</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Time delta</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Time</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Modules</th>\");_.b(\"\\n\" + i);_.b(\"            <th>Tests</th>\");_.b(\"\\n\" + i);_.b(\"        </tr>\");_.b(\"\\n\" + i);_.b(\"    </thead>\");_.b(\"\\n\" + i);_.b(\"    <tbody id=\\\"builds\\\">\");_.b(\"\\n\" + i);if(_.s(_.f(\"builds\",c,p,1),c,p,0,475,507,\"{{ }}\")){_.rs(c,p,function(c,p,_){_.b(_.rp(\"logBuild\",c,p,\"        \"));});c.pop();}_.b(\"    </tbody>\");_.b(\"\\n\" + i);_.b(\"</table>\");_.b(\"\\n\");return _.fl();;});\n//@ sourceURL=/lib/templates.js"));

require.define("/node_modules/hogan.js/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./lib/hogan.js\"}\n//@ sourceURL=/node_modules/hogan.js/package.json"));

require.define("/node_modules/hogan.js/lib/hogan.js",Function(['require','module','exports','__dirname','__filename','process'],"/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nmodule.exports = Hogan; \n//@ sourceURL=/node_modules/hogan.js/lib/hogan.js"));

require.define("/node_modules/hogan.js/lib/compiler.js",Function(['require','module','exports','__dirname','__filename','process'],"/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      tagTypes = {\n        '#': 1, '^': 2, '/': 3,  '!': 4, '>': 5,\n        '<': 6, '=': 7, '_v': 8, '{': 9, '&': 10\n      };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push(new String(buf));\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (tokens[j].tag && tagTypes[tokens[j].tag] < tagTypes['_v']) ||\n          (!tokens[j].tag && tokens[j].match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (!tokens[j].tag) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = tagTypes[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - ctag.length : i + otag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        token = null;\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n      if (token.tag == '#' || token.tag == '^' || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n        instructions.push(token);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else {\n        instructions.push(token);\n      }\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  Hogan.generate = function (tree, text, options) {\n    var code = 'var _=this;_.b(i=i||\"\");' + walk(tree) + 'return _.fl();';\n    if (options.asString) {\n      return 'function(c,p,i){' + code + ';}';\n    }\n\n    return new Hogan.Template(new Function('c', 'p', 'i', code), text, Hogan, options);\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function walk(tree) {\n    var code = '';\n    for (var i = 0, l = tree.length; i < l; i++) {\n      var tag = tree[i].tag;\n      if (tag == '#') {\n        code += section(tree[i].nodes, tree[i].n, chooseMethod(tree[i].n),\n                        tree[i].i, tree[i].end, tree[i].otag + \" \" + tree[i].ctag);\n      } else if (tag == '^') {\n        code += invertedSection(tree[i].nodes, tree[i].n,\n                                chooseMethod(tree[i].n));\n      } else if (tag == '<' || tag == '>') {\n        code += partial(tree[i]);\n      } else if (tag == '{' || tag == '&') {\n        code += tripleStache(tree[i].n, chooseMethod(tree[i].n));\n      } else if (tag == '\\n') {\n        code += text('\"\\\\n\"' + (tree.length-1 == i ? '' : ' + i'));\n      } else if (tag == '_v') {\n        code += variable(tree[i].n, chooseMethod(tree[i].n));\n      } else if (tag === undefined) {\n        code += text('\"' + esc(tree[i]) + '\"');\n      }\n    }\n    return code;\n  }\n\n  function section(nodes, id, method, start, end, tags) {\n    return 'if(_.s(_.' + method + '(\"' + esc(id) + '\",c,p,1),' +\n           'c,p,0,' + start + ',' + end + ',\"' + tags + '\")){' +\n           '_.rs(c,p,' +\n           'function(c,p,_){' +\n           walk(nodes) +\n           '});c.pop();}';\n  }\n\n  function invertedSection(nodes, id, method) {\n    return 'if(!_.s(_.' + method + '(\"' + esc(id) + '\",c,p,1),c,p,1,0,0,\"\")){' +\n           walk(nodes) +\n           '};';\n  }\n\n  function partial(tok) {\n    return '_.b(_.rp(\"' +  esc(tok.n) + '\",c,p,\"' + (tok.indent || '') + '\"));';\n  }\n\n  function tripleStache(id, method) {\n    return '_.b(_.t(_.' + method + '(\"' + esc(id) + '\",c,p,0)));';\n  }\n\n  function variable(id, method) {\n    return '_.b(_.v(_.' + method + '(\"' + esc(id) + '\",c,p,0)));';\n  }\n\n  function text(id) {\n    return '_.b(' + id + ');';\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  },\n\n  Hogan.cache = {};\n\n  Hogan.compile = function(text, options) {\n    // options\n    //\n    // asString: false (default)\n    //\n    // sectionTags: [{o: '_foo', c: 'foo'}]\n    // An array of object with o and c fields that indicate names for custom\n    // section tags. The example above allows parsing of {{_foo}}{{/foo}}.\n    //\n    // delimiters: A string that overrides the default delimiters.\n    // Example: \"<% %>\"\n    //\n    options = options || {};\n\n    var key = text + '||' + !!options.asString;\n\n    var t = this.cache[key];\n\n    if (t) {\n      return t;\n    }\n\n    t = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = t;\n  };\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n//@ sourceURL=/node_modules/hogan.js/lib/compiler.js"));

require.define("/node_modules/hogan.js/lib/template.js",Function(['require','module','exports','__dirname','__filename','process'],"/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan, useArrayBuffer) {\n  Hogan.Template = function (renderFunc, text, compiler, options) {\n    this.r = renderFunc || this.r;\n    this.c = compiler;\n    this.options = options;\n    this.text = text || '';\n    this.buf = (useArrayBuffer) ? [] : '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // tries to find a partial in the curent scope and render it\n    rp: function(name, context, partials, indent) {\n      var partial = partials[name];\n\n      if (!partial) {\n        return '';\n      }\n\n      if (this.c && typeof partial == 'string') {\n        partial = this.c.compile(partial, this.options);\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ls(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = (val === '') || !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        return ctx[ctx.length - 1];\n      }\n\n      for (var i = 1; i < names.length; i++) {\n        if (val && typeof val == 'object' && names[i] in val) {\n          cx = val;\n          val = val[names[i]];\n        } else {\n          val = '';\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.lv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        if (v && typeof v == 'object' && key in v) {\n          val = v[key];\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.lv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ho: function(val, cx, partials, text, tags) {\n      var compiler = this.c;\n      var options = this.options;\n      options.delimiters = tags;\n      var text = val.call(cx, text);\n      text = (text == null) ? String(text) : text.toString();\n      this.b(compiler.compile(text, options).render(cx, partials));\n      return false;\n    },\n\n    // template result buffering\n    b: (useArrayBuffer) ? function(s) { this.buf.push(s); } :\n                          function(s) { this.buf += s; },\n    fl: (useArrayBuffer) ? function() { var r = this.buf.join(''); this.buf = []; return r; } :\n                           function() { var r = this.buf; this.buf = ''; return r; },\n\n    // lambda replace section\n    ls: function(val, ctx, partials, inverted, start, end, tags) {\n      var cx = ctx[ctx.length - 1],\n          t = null;\n\n      if (!inverted && this.c && val.length > 0) {\n        return this.ho(val, cx, partials, this.text.substring(start, end), tags);\n      }\n\n      t = val.call(cx);\n\n      if (typeof t == 'function') {\n        if (inverted) {\n          return true;\n        } else if (this.c) {\n          return this.ho(t, cx, partials, this.text.substring(start, end), tags);\n        }\n      }\n\n      return t;\n    },\n\n    // lambda replace variable\n    lv: function(val, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = val.call(cx);\n\n      if (typeof result == 'function') {\n        result = coerceToString(result.call(cx));\n        if (this.c && ~result.indexOf(\"{\\u007B\")) {\n          return this.c.compile(result, this.options).render(cx, partials);\n        }\n      }\n\n      return coerceToString(result);\n    }\n\n  };\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos =/\\'/g,\n      rQuot = /\\\"/g,\n      hChars =/[&<>\\\"\\']/;\n\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp,'&amp;')\n        .replace(rLt,'&lt;')\n        .replace(rGt,'&gt;')\n        .replace(rApos,'&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\n//@ sourceURL=/node_modules/hogan.js/lib/template.js"));

require.define("/lib/window.js",Function(['require','module','exports','__dirname','__filename','process'],"// WARNING\n// This file is a dirty file. However it has to remain so.\n// It is the single one which uses the global variable called window.\n// Also, it overwrites window.console.log to an empty handler, if a cookie called 'log' is not set to 'yes'\n\nvar cookie = require('cookie');\nvar bonzo = require('bonzo');\n\nexports.d3 = window.d3;\nexports.nv = window.nv;\nexports.el = function(id) {\n    return bonzo(window.document.getElementById(id));\n};\nexports.setCookie = function(name, value) {\n    if(value === null) {\n        var exp = new Date();\n        exp.setDate(exp.getDate() - 1);\n        window.document.cookie = cookie.serialize(name, '', {\n            path : '/',\n            expires : exp\n        });\n    } else {\n        window.document.cookie = cookie.serialize(name, value, {\n            path : '/'\n        });\n    }\n};\nexports.getCookie = function(name) {\n    var cookies = cookie.parse(window.document.cookie);\n    if(typeof cookies[name] === 'string') {\n        return cookies[name];\n    } else {\n        return null;\n    }\n};\nexports.getPath = function() {\n    return window.location.pathname;\n};\nexports.setHref = function(href) {\n    window.location.href = href;\n};\nexports.createSocket = function() {\n    return new window.WebSocket('ws://' + window.location.host + '/websocket');\n};\nif(typeof window.console === 'undefined' || typeof window.console.log === 'undefined' || exports.getCookie('log') !== 'yes') {\n    window.console = {\n        log : function() {\n        }\n    };\n}\n\n//@ sourceURL=/lib/window.js"));

require.define("/node_modules/cookie/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"index.js\"}\n//@ sourceURL=/node_modules/cookie/package.json"));

require.define("/node_modules/cookie/index.js",Function(['require','module','exports','__dirname','__filename','process'],"\n/// Serialize the a name value pair into a cookie string suitable for\n/// http headers. An optional options object specified cookie parameters\n///\n/// serialize('foo', 'bar', { httpOnly: true })\n///   => \"foo=bar; httpOnly\"\n///\n/// @param {String} name\n/// @param {String} val\n/// @param {Object} options\n/// @return {String}\nvar serialize = function(name, val, opt){\n    var pairs = [name + '=' + encode(val)];\n    opt = opt || {};\n\n    if (opt.maxAge) pairs.push('Max-Age=' + opt.maxAge);\n    if (opt.domain) pairs.push('Domain=' + opt.domain);\n    if (opt.path) pairs.push('Path=' + opt.path);\n    if (opt.expires) pairs.push('Expires=' + opt.expires.toUTCString());\n    if (opt.httpOnly) pairs.push('HttpOnly');\n    if (opt.secure) pairs.push('Secure');\n\n    return pairs.join('; ');\n};\n\n/// Parse the given cookie header string into an object\n/// The object has the various cookies as keys(names) => values\n/// @param {String} str\n/// @return {Object}\nvar parse = function(str) {\n    var obj = {}\n    var pairs = str.split(/[;,] */);\n\n    pairs.forEach(function(pair) {\n        var eq_idx = pair.indexOf('=')\n        var key = pair.substr(0, eq_idx).trim()\n        var val = pair.substr(++eq_idx, pair.length).trim();\n\n        // quoted values\n        if ('\"' == val[0]) {\n            val = val.slice(1, -1);\n        }\n\n        // only assign once\n        if (undefined == obj[key]) {\n            obj[key] = decode(val);\n        }\n    });\n\n    return obj;\n};\n\nvar encode = encodeURIComponent;\nvar decode = decodeURIComponent;\n\nmodule.exports.serialize = serialize;\nmodule.exports.parse = parse;\n\n//@ sourceURL=/node_modules/cookie/index.js"));

require.define("/node_modules/bonzo/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./bonzo.js\"}\n//@ sourceURL=/node_modules/bonzo/package.json"));

require.define("/node_modules/bonzo/bonzo.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * Bonzo: DOM Utility (c) Dustin Diaz 2012\n  * https://github.com/ded/bonzo\n  * License MIT\n  */\n(function (name, definition, context) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof context['define'] == 'function' && context['define']['amd']) define(name, definition)\n  else context[name] = definition()\n})('bonzo', function() {\n  var context = this\n    , win = window\n    , doc = win.document\n    , html = doc.documentElement\n    , parentNode = 'parentNode'\n    , query = null\n    , specialAttributes = /^(checked|value|selected)$/i\n    , specialTags = /^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i // tags that we have trouble inserting *into*\n    , table = ['<table>', '</table>', 1]\n    , td = ['<table><tbody><tr>', '</tr></tbody></table>', 3]\n    , option = ['<select>', '</select>', 1]\n    , noscope = ['_', '', 0, 1]\n    , tagMap = { // tags that we have trouble *inserting*\n          thead: table, tbody: table, tfoot: table, colgroup: table, caption: table\n        , tr: ['<table><tbody>', '</tbody></table>', 2]\n        , th: td , td: td\n        , col: ['<table><colgroup>', '</colgroup></table>', 2]\n        , fieldset: ['<form>', '</form>', 1]\n        , legend: ['<form><fieldset>', '</fieldset></form>', 2]\n        , option: option, optgroup: option\n        , script: noscope, style: noscope, link: noscope, param: noscope, base: noscope\n      }\n    , stateAttributes = /^(checked|selected)$/\n    , ie = /msie/i.test(navigator.userAgent)\n    , hasClass, addClass, removeClass\n    , uidMap = {}\n    , uuids = 0\n    , digit = /^-?[\\d\\.]+$/\n    , dattr = /^data-(.+)$/\n    , px = 'px'\n    , setAttribute = 'setAttribute'\n    , getAttribute = 'getAttribute'\n    , byTag = 'getElementsByTagName'\n    , features = function() {\n        var e = doc.createElement('p')\n        e.innerHTML = '<a href=\"#x\">x</a><table style=\"float:left;\"></table>'\n        return {\n          hrefExtended: e[byTag]('a')[0][getAttribute]('href') != '#x' // IE < 8\n        , autoTbody: e[byTag]('tbody').length !== 0 // IE < 8\n        , computedStyle: doc.defaultView && doc.defaultView.getComputedStyle\n        , cssFloat: e[byTag]('table')[0].style.styleFloat ? 'styleFloat' : 'cssFloat'\n        , transform: function () {\n            var props = ['webkitTransform', 'MozTransform', 'OTransform', 'msTransform', 'Transform'], i\n            for (i = 0; i < props.length; i++) {\n              if (props[i] in e.style) return props[i]\n            }\n          }()\n        , classList: 'classList' in e\n        }\n      }()\n    , trimReplace = /(^\\s*|\\s*$)/g\n    , whitespaceRegex = /\\s+/\n    , toString = String.prototype.toString\n    , unitless = { lineHeight: 1, zoom: 1, zIndex: 1, opacity: 1, boxFlex: 1, WebkitBoxFlex: 1, MozBoxFlex: 1 }\n    , trim = String.prototype.trim ?\n        function (s) {\n          return s.trim()\n        } :\n        function (s) {\n          return s.replace(trimReplace, '')\n        }\n\n  function classReg(c) {\n    return new RegExp(\"(^|\\\\s+)\" + c + \"(\\\\s+|$)\")\n  }\n\n\n  /**\n   * @param {Array|Bonzo} ar\n   * @param {function(Object, number, (Array|Bonzo))} fn\n   * @param {Object=} opt_scope\n   * @return {Array|Bonzo}\n   */\n  function each(ar, fn, opt_scope) {\n    for (var i = 0, l = ar.length; i < l; i++) fn.call(opt_scope || ar[i], ar[i], i, ar)\n    return ar\n  }\n\n\n  /**\n   * @param {Array|Bonzo} ar\n   * @param {function(Object, number, (Array|Bonzo))} fn\n   * @param {Object=} opt_scope\n   * @return {Array|Bonzo}\n   */\n  function deepEach(ar, fn, opt_scope) {\n    for (var i = 0, l = ar.length; i < l; i++) {\n      if (isNode(ar[i])) {\n        deepEach(ar[i].childNodes, fn, opt_scope)\n        fn.call(opt_scope || ar[i], ar[i], i, ar)\n      }\n    }\n    return ar\n  }\n\n  function camelize(s) {\n    return s.replace(/-(.)/g, function (m, m1) {\n      return m1.toUpperCase()\n    })\n  }\n\n  function decamelize(s) {\n    return s ? s.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() : s\n  }\n\n  function data(el) {\n    el[getAttribute]('data-node-uid') || el[setAttribute]('data-node-uid', ++uuids)\n    var uid = el[getAttribute]('data-node-uid')\n    return uidMap[uid] || (uidMap[uid] = {})\n  }\n\n  function clearData(el) {\n    var uid = el[getAttribute]('data-node-uid')\n    if (uid) delete uidMap[uid]\n  }\n\n  function dataValue(d) {\n    var f\n    try {\n      return (d === null || d === undefined) ? undefined :\n        d === 'true' ? true :\n          d === 'false' ? false :\n            d === 'null' ? null :\n              (f = parseFloat(d)) == d ? f : d;\n    } catch(e) {}\n    return undefined\n  }\n\n  function isNode(node) {\n    return node && node.nodeName && (node.nodeType == 1 || node.nodeType == 11)\n  }\n\n\n  /**\n   * @param {Array|Bonzo} ar\n   * @param {function(Object, number, (Array|Bonzo))} fn\n   * @param {Object=} opt_scope\n   * @return {boolean} whether `some`thing was found\n   */\n  function some(ar, fn, opt_scope) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (fn.call(opt_scope || null, ar[i], i, ar)) return true\n    return false\n  }\n\n  function styleProperty(p) {\n      (p == 'transform' && (p = features.transform)) ||\n        (/^transform-?[Oo]rigin$/.test(p) && (p = features.transform + \"Origin\")) ||\n        (p == 'float' && (p = features.cssFloat))\n      return p ? camelize(p) : null\n  }\n\n  var getStyle = features.computedStyle ?\n    function (el, property) {\n      var value = null\n        , computed = doc.defaultView.getComputedStyle(el, '')\n      computed && (value = computed[property])\n      return el.style[property] || value\n    } :\n\n    (ie && html.currentStyle) ?\n\n    /**\n     * @param {Element} el\n     * @param {string} property\n     * @return {string|number}\n     */\n    function (el, property) {\n      if (property == 'opacity') {\n        var val = 100\n        try {\n          val = el['filters']['DXImageTransform.Microsoft.Alpha'].opacity\n        } catch (e1) {\n          try {\n            val = el['filters']('alpha').opacity\n          } catch (e2) {}\n        }\n        return val / 100\n      }\n      var value = el.currentStyle ? el.currentStyle[property] : null\n      return el.style[property] || value\n    } :\n\n    function (el, property) {\n      return el.style[property]\n    }\n\n  // this insert method is intense\n  function insert(target, host, fn) {\n    var i = 0, self = host || this, r = []\n      // target nodes could be a css selector if it's a string and a selector engine is present\n      // otherwise, just use target\n      , nodes = query && typeof target == 'string' && target.charAt(0) != '<' ? query(target) : target\n    // normalize each node in case it's still a string and we need to create nodes on the fly\n    each(normalize(nodes), function (t) {\n      each(self, function (el) {\n        var n = !el[parentNode] || (el[parentNode] && !el[parentNode][parentNode]) ?\n          function () {\n            var c = el.cloneNode(true)\n              , cloneElems\n              , elElems\n\n            // check for existence of an event cloner\n            // preferably https://github.com/fat/bean\n            // otherwise Bonzo won't do this for you\n            if (self.$ && typeof self.cloneEvents == 'function') {\n              self.$(c).cloneEvents(el)\n\n              // clone events from every child node\n              cloneElems = self.$(c).find('*')\n              elElems = self.$(el).find('*')\n\n              for (var i = 0; i < elElems.length; i++)\n                self.$(cloneElems[i]).cloneEvents(elElems[i])\n            }\n            return c\n          }() : el\n        fn(t, n)\n        r[i] = n\n        i++\n      })\n    }, this)\n    each(r, function (e, i) {\n      self[i] = e\n    })\n    self.length = i\n    return self\n  }\n\n  function xy(el, x, y) {\n    var $el = bonzo(el)\n      , style = $el.css('position')\n      , offset = $el.offset()\n      , rel = 'relative'\n      , isRel = style == rel\n      , delta = [parseInt($el.css('left'), 10), parseInt($el.css('top'), 10)]\n\n    if (style == 'static') {\n      $el.css('position', rel)\n      style = rel\n    }\n\n    isNaN(delta[0]) && (delta[0] = isRel ? 0 : el.offsetLeft)\n    isNaN(delta[1]) && (delta[1] = isRel ? 0 : el.offsetTop)\n\n    x != null && (el.style.left = x - offset.left + delta[0] + px)\n    y != null && (el.style.top = y - offset.top + delta[1] + px)\n\n  }\n\n  // classList support for class management\n  // altho to be fair, the api sucks because it won't accept multiple classes at once\n  // so we iterate down below\n  if (features.classList) {\n    hasClass = function (el, c) {\n      return el.classList.contains(c)\n    }\n    addClass = function (el, c) {\n      el.classList.add(c)\n    }\n    removeClass = function (el, c) {\n      el.classList.remove(c)\n    }\n  }\n  else {\n    hasClass = function (el, c) {\n      return classReg(c).test(el.className)\n    }\n    addClass = function (el, c) {\n      el.className = trim(el.className + ' ' + c)\n    }\n    removeClass = function (el, c) {\n      el.className = trim(el.className.replace(classReg(c), ' '))\n    }\n  }\n\n\n  // this allows method calling for setting values\n  // example:\n  // bonzo(elements).css('color', function (el) {\n  //   return el.getAttribute('data-original-color')\n  // })\n  function setter(el, v) {\n    return typeof v == 'function' ? v(el) : v\n  }\n\n  /**\n   * @constructor\n   * @param {Array.<Element>|Element|Node|string} elements\n   */\n  function Bonzo(elements) {\n    this.length = 0\n    if (elements) {\n      elements = typeof elements !== 'string' &&\n        !elements.nodeType &&\n        typeof elements.length !== 'undefined' ?\n          elements :\n          [elements]\n      this.length = elements.length\n      for (var i = 0; i < elements.length; i++) this[i] = elements[i]\n    }\n  }\n\n  Bonzo.prototype = {\n\n      // indexr method, because jQueriers want this method. Jerks\n      get: function (index) {\n        return this[index] || null\n      }\n\n      // itetators\n      /**\n       * @param {Function} fn\n       * @param {Object=} opt_scope\n       * @return {Bonzo}\n       */\n    , each: function (fn, opt_scope) {\n        return each(this, fn, opt_scope)\n      }\n\n      /**\n       * @param {Function} fn\n       * @param {Object=} opt_scope\n       * @return {Bonzo}\n       */\n    , deepEach: function (fn, opt_scope) {\n        return deepEach(this, fn, opt_scope)\n      }\n\n\n      /**\n       * @param {Function} fn\n       * @param {Function=} opt_reject\n       * @return {Array}\n       */\n    , map: function (fn, opt_reject) {\n        var m = [], n, i\n        for (i = 0; i < this.length; i++) {\n          n = fn.call(this, this[i], i)\n          opt_reject ? (opt_reject(n) && m.push(n)) : m.push(n)\n        }\n        return m\n      }\n\n    // text and html inserters!\n\n    /**\n     * @param {string} h the HTML to insert\n     * @param {boolean=} opt_text whether to set or get text content\n     * @return {Bonzo|string}\n     */\n    , html: function (h, opt_text) {\n        var method = opt_text ?\n          html.textContent === undefined ?\n            'innerText' :\n            'textContent' :\n          'innerHTML';\n        function append(el) {\n          each(normalize(h), function (node) {\n            el.appendChild(node)\n          })\n        }\n        return typeof h !== 'undefined' ?\n            this.empty().each(function (el) {\n              !opt_text && specialTags.test(el.tagName) ?\n                append(el) :\n                (function () {\n                  try { (el[method] = h) }\n                  catch(e) { append(el) }\n                }())\n            }) :\n          this[0] ? this[0][method] : ''\n      }\n\n      /**\n       * @param {string=} opt_text the text to set, otherwise this is a getter\n       * @return {string|Bonzo}\n       */\n    , text: function (opt_text) {\n        return this.html(opt_text, true)\n      }\n\n      // more related insertion methods\n    , append: function (node) {\n        return this.each(function (el) {\n          each(normalize(node), function (i) {\n            el.appendChild(i)\n          })\n        })\n      }\n\n    , prepend: function (node) {\n        return this.each(function (el) {\n          var first = el.firstChild\n          each(normalize(node), function (i) {\n            el.insertBefore(i, first)\n          })\n        })\n      }\n\n\n      /**\n       * @param {string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , appendTo: function (target, opt_host) {\n        return insert.call(this, target, opt_host, function (t, el) {\n          t.appendChild(el)\n        })\n      }\n\n\n      /**\n       * @param {string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , prependTo: function (target, host) {\n        return insert.call(this, target, host, function (t, el) {\n          t.insertBefore(el, t.firstChild)\n        })\n      }\n\n    , before: function (node) {\n        return this.each(function (el) {\n          each(bonzo.create(node), function (i) {\n            el[parentNode].insertBefore(i, el)\n          })\n        })\n      }\n\n    , after: function (node) {\n        return this.each(function (el) {\n          each(bonzo.create(node), function (i) {\n            el[parentNode].insertBefore(i, el.nextSibling)\n          })\n        })\n      }\n\n\n      /**\n       * @param {string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , insertBefore: function (target, host) {\n        return insert.call(this, target, host, function (t, el) {\n          t[parentNode].insertBefore(el, t)\n        })\n      }\n\n\n      /**\n       * @param {string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , insertAfter: function (target, host) {\n        return insert.call(this, target, host, function (t, el) {\n          var sibling = t.nextSibling\n          sibling ?\n            t[parentNode].insertBefore(el, sibling) :\n            t[parentNode].appendChild(el)\n        })\n      }\n\n    , replaceWith: function (html) {\n        this.deepEach(clearData)\n\n        return this.each(function (el) {\n          el.parentNode.replaceChild(bonzo.create(html)[0], el)\n        })\n      }\n\n      // class management\n    , addClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          // we `each` here so you can do $el.addClass('foo bar')\n          each(c, function (c) {\n            if (c && !hasClass(el, setter(el, c)))\n              addClass(el, setter(el, c))\n          })\n        })\n      }\n\n    , removeClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          each(c, function (c) {\n            if (c && hasClass(el, setter(el, c)))\n              removeClass(el, setter(el, c))\n          })\n        })\n      }\n\n    , hasClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return some(this, function (el) {\n          return some(c, function (c) {\n            return c && hasClass(el, c)\n          })\n        })\n      }\n\n\n      /**\n       * @param {string} c classname to toggle\n       * @param {boolean=} opt_condition whether to add or remove the class straight away\n       * @return {Bonzo}\n       */\n    , toggleClass: function (c, opt_condition) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          each(c, function (c) {\n            if (c) {\n              typeof opt_condition !== 'undefined' ?\n                opt_condition ? addClass(el, c) : removeClass(el, c) :\n                hasClass(el, c) ? removeClass(el, c) : addClass(el, c)\n            }\n          })\n        })\n      }\n\n      // display togglers\n\n      /**\n       * @param {string=} opt_type useful to set back to anything other than an empty string\n       * @return {Bonzo}\n       */\n    , show: function (opt_type) {\n        return this.each(function (el) {\n          el.style.display = opt_type || ''\n        })\n      }\n\n    , hide: function () {\n        return this.each(function (el) {\n          el.style.display = 'none'\n        })\n      }\n\n\n      /**\n       * @param {Function=} opt_callback\n       * @param {string=} opt_type\n       * @return {Bonzo}\n       */\n    , toggle: function (opt_callback, opt_type) {\n        this.each(function (el) {\n          el.style.display = (el.offsetWidth || el.offsetHeight) ? 'none' : opt_type || ''\n        })\n        if (opt_callback) opt_callback()\n        return this\n      }\n\n      // DOM Walkers & getters\n    , first: function () {\n        return bonzo(this.length ? this[0] : [])\n      }\n\n    , last: function () {\n        return bonzo(this.length ? this[this.length - 1] : [])\n      }\n\n    , next: function () {\n        return this.related('nextSibling')\n      }\n\n    , previous: function () {\n        return this.related('previousSibling')\n      }\n\n    , parent: function() {\n        return this.related(parentNode)\n      }\n\n    , related: function (method) {\n        return this.map(\n          function (el) {\n            el = el[method]\n            while (el && el.nodeType !== 1) {\n              el = el[method]\n            }\n            return el || 0\n          },\n          function (el) {\n            return el\n          }\n        )\n      }\n\n      // meh. use with care. the ones in Bean are better\n    , focus: function () {\n        this.length && this[0].focus()\n        return this\n      }\n\n    , blur: function () {\n        this.length && this[0].blur()\n        return this\n      }\n\n      // style getter setter & related methods\n\n      /**\n       * @param {Object|string} o\n       * @param {string=} opt_v\n       * @return {string|Bonzo}\n       */\n    , css: function (o, opt_v) {\n        var p\n        // is this a request for just getting a style?\n        if (opt_v === undefined && typeof o == 'string') {\n          // repurpose 'v'\n          opt_v = this[0]\n          if (!opt_v) return null\n          if (opt_v === doc || opt_v === win) {\n            p = (opt_v === doc) ? bonzo.doc() : bonzo.viewport()\n            return o == 'width' ? p.width : o == 'height' ? p.height : ''\n          }\n          return (o = styleProperty(o)) ? getStyle(opt_v, o) : null\n        }\n        var iter = o\n        if (typeof o == 'string') {\n          iter = {}\n          iter[o] = opt_v\n        }\n\n        if (ie && iter.opacity) {\n          // oh this 'ol gamut\n          iter.filter = 'alpha(opacity=' + (iter.opacity * 100) + ')'\n          // give it layout\n          iter.zoom = o.zoom || 1;\n          delete iter.opacity;\n        }\n\n        function fn(el, p, v) {\n          for (var k in iter) {\n            if (iter.hasOwnProperty(k)) {\n              v = iter[k];\n              // change \"5\" to \"5px\" - unless you're line-height, which is allowed\n              (p = styleProperty(k)) && digit.test(v) && !(p in unitless) && (v += px)\n              el.style[p] = setter(el, v)\n            }\n          }\n        }\n        return this.each(fn)\n      }\n\n\n      /**\n       * @param {number=} opt_x\n       * @param {number=} opt_y\n       * @return {number|Bonzo}\n       */\n    , offset: function (opt_x, opt_y) {\n        if (typeof opt_x == 'number' || typeof opt_y == 'number') {\n          return this.each(function (el) {\n            xy(el, opt_x, opt_y)\n          })\n        }\n        if (!this[0]) return {\n            top: 0\n          , left: 0\n          , height: 0\n          , width: 0\n        }\n        var el = this[0]\n          , width = el.offsetWidth\n          , height = el.offsetHeight\n          , top = el.offsetTop\n          , left = el.offsetLeft\n        while (el = el.offsetParent) {\n          top = top + el.offsetTop\n          left = left + el.offsetLeft\n\n          if (el != doc.body) {\n            top -= el.scrollTop\n            left -= el.scrollLeft\n          }\n        }\n\n        return {\n            top: top\n          , left: left\n          , height: height\n          , width: width\n        }\n      }\n\n    , dim: function () {\n        if (!this.length) return { height: 0, width: 0 }\n        var el = this[0]\n          , orig = !el.offsetWidth && !el.offsetHeight ?\n             // el isn't visible, can't be measured properly, so fix that\n             function (t) {\n               var s = {\n                   position: el.style.position || ''\n                 , visibility: el.style.visibility || ''\n                 , display: el.style.display || ''\n               }\n               t.first().css({\n                   position: 'absolute'\n                 , visibility: 'hidden'\n                 , display: 'block'\n               })\n               return s\n            }(this) : null\n          , width = el.offsetWidth\n          , height = el.offsetHeight\n\n        orig && this.first().css(orig)\n        return {\n            height: height\n          , width: width\n        }\n      }\n\n      // attributes are hard. go shopping\n\n      /**\n       * @param {string} k an attribute to get or set\n       * @param {string=} opt_v the value to set\n       * @return {string|Bonzo}\n       */\n    , attr: function (k, opt_v) {\n        var el = this[0]\n        if (typeof k != 'string' && !(k instanceof String)) {\n          for (var n in k) {\n            k.hasOwnProperty(n) && this.attr(n, k[n])\n          }\n          return this\n        }\n        return typeof opt_v == 'undefined' ?\n          !el ? null : specialAttributes.test(k) ?\n            stateAttributes.test(k) && typeof el[k] == 'string' ?\n              true : el[k] : (k == 'href' || k =='src') && features.hrefExtended ?\n                el[getAttribute](k, 2) : el[getAttribute](k) :\n          this.each(function (el) {\n            specialAttributes.test(k) ? (el[k] = setter(el, opt_v)) : el[setAttribute](k, setter(el, opt_v))\n          })\n      }\n\n    , removeAttr: function (k) {\n        return this.each(function (el) {\n          stateAttributes.test(k) ? (el[k] = false) : el.removeAttribute(k)\n        })\n      }\n\n      /**\n       * @param {string=} opt_s\n       * @return {string|Bonzo}\n       */\n    , val: function (s) {\n        return (typeof s == 'string') ?\n          this.attr('value', s) :\n          this.length ? this[0].value : null\n      }\n\n      // use with care and knowledge. this data() method uses data attributes on the DOM nodes\n      // to do this differently costs a lot more code. c'est la vie\n      /**\n       * @param {string|Object=} opt_k the key for which to get or set data\n       * @param {Object=} opt_v\n       * @return {Object|Bonzo}\n       */\n    , data: function (opt_k, opt_v) {\n        var el = this[0], uid, o, m\n        if (typeof opt_v === 'undefined') {\n          if (!el) return null\n          o = data(el)\n          if (typeof opt_k === 'undefined') {\n            each(el.attributes, function (a) {\n              (m = ('' + a.name).match(dattr)) && (o[camelize(m[1])] = dataValue(a.value))\n            })\n            return o\n          } else {\n            if (typeof o[opt_k] === 'undefined')\n              o[opt_k] = dataValue(this.attr('data-' + decamelize(opt_k)))\n            return o[opt_k]\n          }\n        } else {\n          return this.each(function (el) { data(el)[opt_k] = opt_v })\n        }\n      }\n\n      // DOM detachment & related\n    , remove: function () {\n        this.deepEach(clearData)\n\n        return this.each(function (el) {\n          el[parentNode] && el[parentNode].removeChild(el)\n        })\n      }\n\n    , empty: function () {\n        return this.each(function (el) {\n          deepEach(el.childNodes, clearData)\n\n          while (el.firstChild) {\n            el.removeChild(el.firstChild)\n          }\n        })\n      }\n\n    , detach: function () {\n        return this.each(function (el) {\n          el[parentNode].removeChild(el)\n        })\n      }\n\n      // who uses a mouse anyway? oh right.\n    , scrollTop: function (y) {\n        return scroll.call(this, null, y, 'y')\n      }\n\n    , scrollLeft: function (x) {\n        return scroll.call(this, x, null, 'x')\n      }\n\n  }\n\n  function normalize(node) {\n    return typeof node == 'string' ? bonzo.create(node) : isNode(node) ? [node] : node // assume [nodes]\n  }\n\n  function scroll(x, y, type) {\n    var el = this[0]\n    if (!el) return this\n    if (x == null && y == null) {\n      return (isBody(el) ? getWindowScroll() : { x: el.scrollLeft, y: el.scrollTop })[type]\n    }\n    if (isBody(el)) {\n      win.scrollTo(x, y)\n    } else {\n      x != null && (el.scrollLeft = x)\n      y != null && (el.scrollTop = y)\n    }\n    return this\n  }\n\n  function isBody(element) {\n    return element === win || (/^(?:body|html)$/i).test(element.tagName)\n  }\n\n  function getWindowScroll() {\n    return { x: win.pageXOffset || html.scrollLeft, y: win.pageYOffset || html.scrollTop }\n  }\n\n  /**\n   * @param {Array.<Element>|Element|Node|string} els\n   * @return {Bonzo}\n   */\n  function bonzo(els) {\n    return new Bonzo(els)\n  }\n\n  bonzo.setQueryEngine = function (q) {\n    query = q;\n    delete bonzo.setQueryEngine\n  }\n\n  bonzo.aug = function (o, target) {\n    // for those standalone bonzo users. this love is for you.\n    for (var k in o) {\n      o.hasOwnProperty(k) && ((target || Bonzo.prototype)[k] = o[k])\n    }\n  }\n\n  bonzo.create = function (node) {\n    // hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\n    return typeof node == 'string' && node !== '' ?\n      function () {\n        var tag = /^\\s*<([^\\s>]+)/.exec(node)\n          , el = doc.createElement('div')\n          , els = []\n          , p = tag ? tagMap[tag[1].toLowerCase()] : null\n          , dep = p ? p[2] + 1 : 1\n          , ns = p && p[3]\n          , pn = parentNode\n          , tb = features.autoTbody && p && p[0] == '<table>' && !(/<tbody/i).test(node)\n\n        el.innerHTML = p ? (p[0] + node + p[1]) : node\n        while (dep--) el = el.firstChild\n        // for IE NoScope, we may insert cruft at the begining just to get it to work\n        if (ns && el && el.nodeType !== 1) el = el.nextSibling\n        do {\n          // tbody special case for IE<8, creates tbody on any empty table\n          // we don't want it if we're just after a <thead>, <caption>, etc.\n          if ((!tag || el.nodeType == 1) && (!tb || el.tagName.toLowerCase() != 'tbody')) {\n            els.push(el)\n          }\n        } while (el = el.nextSibling)\n        // IE < 9 gives us a parentNode which messes up insert() check for cloning\n        // `dep` > 1 can also cause problems with the insert() check (must do this last)\n        each(els, function(el) { el[pn] && el[pn].removeChild(el) })\n        return els\n\n      }() : isNode(node) ? [node.cloneNode(true)] : []\n  }\n\n  bonzo.doc = function () {\n    var vp = bonzo.viewport()\n    return {\n        width: Math.max(doc.body.scrollWidth, html.scrollWidth, vp.width)\n      , height: Math.max(doc.body.scrollHeight, html.scrollHeight, vp.height)\n    }\n  }\n\n  bonzo.firstChild = function (el) {\n    for (var c = el.childNodes, i = 0, j = (c && c.length) || 0, e; i < j; i++) {\n      if (c[i].nodeType === 1) e = c[j = i]\n    }\n    return e\n  }\n\n  bonzo.viewport = function () {\n    return {\n        width: ie ? html.clientWidth : self.innerWidth\n      , height: ie ? html.clientHeight : self.innerHeight\n    }\n  }\n\n  bonzo.isAncestor = 'compareDocumentPosition' in html ?\n    function (container, element) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } : 'contains' in html ?\n    function (container, element) {\n      return container !== element && container.contains(element);\n    } :\n    function (container, element) {\n      while (element = element[parentNode]) {\n        if (element === container) {\n          return true\n        }\n      }\n      return false\n    }\n\n  return bonzo\n}, this); // the only line we care about using a semi-colon. placed here for concatenation tools\n\n//@ sourceURL=/node_modules/bonzo/bonzo.js"));

require.define("/lib/page.js",Function(['require','module','exports','__dirname','__filename','process'],"var bean = require('bean');\nvar reqwest = require('reqwest');\nvar w = require('./window');\nvar common = require('./common');\nvar p = require('page');\n\nexports.create = function(socket) {\n    var previousPath = null;\n    var page = {\n        start : function() {\n            p({\n                click : true,\n                popstate : true,\n                dispatch : true\n            });\n            this.go(w.getPath());\n        },\n        store : {\n            builders : []\n        },\n        once : function(event, handler) {\n            bean.one(socket, event, function(err, msg) {\n                console.log('page.once', event, err, msg);\n                handler(err, msg);\n            });\n        },\n        on : function(event, handler) {\n            var handlerWrapper = function(err, msg) {\n                console.log('page.on', event, err, msg);\n                handler(err, msg);\n            };\n            bean.add(socket, event, handlerWrapper);\n            return function() {\n                bean.remove(socket, event, handlerWrapper);\n            };\n        },\n        emit : function(event, err, msg) {\n            console.log('page.emit', event, err, msg);\n            socket.send(JSON.stringify({\n                err : err,\n                msg : msg,\n                type : event\n            }));\n        },\n        req : function(resource, msg, cb) {\n            console.log('page.req', resource, msg);\n            cb = cb || function(){};\n            var data = JSON.stringify(msg);\n            reqwest({\n                url : '/api/1/' + resource,\n                method : 'post',\n                type : 'json',\n                data : data,\n                contentType: 'application/json',\n                error : function(xhr) {\n                    throw new common.error({\n                        error : xhr.status + ' ' + xhr.statusText,\n                        message : 'tried to send ' + resource + ' this: ' + data\n                    });\n                },\n                success : function(resp) {\n                    console.log('resp', resp);\n                    if(resp.err) {\n                        cb(resp, null);\n                    } else {\n                        cb(null, resp.msg);\n                    }\n                }\n            });\n        },\n        body : w.el('body'),\n        projectId : null,\n        handle : function(path, cb) {\n            var self = this;\n            console.log('adding handler', path);\n            p(path, function(ctx) {\n                setTimeout(function() {\n                    var nextPath = w.getPath();\n                    if(previousPath !== nextPath) {\n                        console.log('handling', previousPath, nextPath);\n                        bean.fire(self, 'page', [previousPath, nextPath, ctx.params]);\n                        cb(previousPath, nextPath, ctx.params);\n                        previousPath = nextPath;\n                    }\n                }, 0);\n            });\n        },\n        beforego : function(cb) {\n            bean.one(this, 'page', cb);\n        },\n        go : function(path) {\n            p(path);\n        }\n    };\n    bean.add(page, 'page', function(from, to, params) {\n        if(params.length > 0) {\n            var projectId = params[0];\n            if(projectId !== page.projectId) {\n                page.projectId = projectId;\n                bean.fire(page, 'projectId');\n            }\n            params.shift();\n        }\n    });\n    return page;\n};\n\n//@ sourceURL=/lib/page.js"));

require.define("/node_modules/reqwest/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./reqwest.js\"}\n//@ sourceURL=/node_modules/reqwest/package.json"));

require.define("/node_modules/reqwest/reqwest.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * Reqwest! A general purpose XHR connection manager\n  * (c) Dustin Diaz 2011\n  * https://github.com/ded/reqwest\n  * license MIT\n  */\n!function (name, definition) {\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define(name, definition)\n  else this[name] = definition()\n}('reqwest', function () {\n\n  var win = window\n    , doc = document\n    , twoHundo = /^20\\d$/\n    , byTag = 'getElementsByTagName'\n    , readyState = 'readyState'\n    , contentType = 'Content-Type'\n    , requestedWith = 'X-Requested-With'\n    , head = doc[byTag]('head')[0]\n    , uniqid = 0\n    , lastValue // data stored by the most recent JSONP callback\n    , xmlHttpRequest = 'XMLHttpRequest'\n    , isArray = typeof Array.isArray == 'function' ? Array.isArray : function (a) {\n        return a instanceof Array\n      }\n    , defaultHeaders = {\n          contentType: 'application/x-www-form-urlencoded'\n        , accept: {\n              '*':  'text/javascript, text/html, application/xml, text/xml, */*'\n            , xml:  'application/xml, text/xml'\n            , html: 'text/html'\n            , text: 'text/plain'\n            , json: 'application/json, text/javascript'\n            , js:   'application/javascript, text/javascript'\n          }\n        , requestedWith: xmlHttpRequest\n      }\n    , xhr = win[xmlHttpRequest] ?\n        function () {\n          return new XMLHttpRequest()\n        } :\n        function () {\n          return new ActiveXObject('Microsoft.XMLHTTP')\n        }\n\n  function handleReadyState(o, success, error) {\n    return function () {\n      if (o && o[readyState] == 4) {\n        if (twoHundo.test(o.status)) {\n          success(o)\n        } else {\n          error(o)\n        }\n      }\n    }\n  }\n\n  function setHeaders(http, o) {\n    var headers = o.headers || {}, h\n    headers.Accept = headers.Accept || defaultHeaders.accept[o.type] || defaultHeaders.accept['*']\n    // breaks cross-origin requests with legacy browsers\n    if (!o.crossOrigin && !headers[requestedWith]) headers[requestedWith] = defaultHeaders.requestedWith\n    if (!headers[contentType]) headers[contentType] = o.contentType || defaultHeaders.contentType\n    for (h in headers) {\n      headers.hasOwnProperty(h) && http.setRequestHeader(h, headers[h])\n    }\n  }\n\n  function generalCallback(data) {\n    lastValue = data\n  }\n\n  function urlappend(url, s) {\n    return url + (/\\?/.test(url) ? '&' : '?') + s\n  }\n\n  function handleJsonp(o, fn, err, url) {\n    var reqId = uniqid++\n      , cbkey = o.jsonpCallback || 'callback' // the 'callback' key\n      , cbval = o.jsonpCallbackName || ('reqwest_' + reqId) // the 'callback' value\n      , cbreg = new RegExp('((^|\\\\?|&)' + cbkey + ')=([^&]+)')\n      , match = url.match(cbreg)\n      , script = doc.createElement('script')\n      , loaded = 0\n\n    if (match) {\n      if (match[3] === '?') {\n        url = url.replace(cbreg, '$1=' + cbval) // wildcard callback func name\n      } else {\n        cbval = match[3] // provided callback func name\n      }\n    } else {\n      url = urlappend(url, cbkey + '=' + cbval) // no callback details, add 'em\n    }\n\n    win[cbval] = generalCallback\n\n    script.type = 'text/javascript'\n    script.src = url\n    script.async = true\n    if (typeof script.onreadystatechange !== 'undefined') {\n        // need this for IE due to out-of-order onreadystatechange(), binding script\n        // execution to an event listener gives us control over when the script\n        // is executed. See http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n        script.event = 'onclick'\n        script.htmlFor = script.id = '_reqwest_' + reqId\n    }\n\n    script.onload = script.onreadystatechange = function () {\n      if ((script[readyState] && script[readyState] !== 'complete' && script[readyState] !== 'loaded') || loaded) {\n        return false\n      }\n      script.onload = script.onreadystatechange = null\n      script.onclick && script.onclick()\n      // Call the user callback with the last value stored and clean up values and scripts.\n      o.success && o.success(lastValue)\n      lastValue = undefined\n      head.removeChild(script)\n      loaded = 1\n    }\n\n    // Add the script to the DOM head\n    head.appendChild(script)\n  }\n\n  function getRequest(o, fn, err) {\n    var method = (o.method || 'GET').toUpperCase()\n      , url = typeof o === 'string' ? o : o.url\n      // convert non-string objects to query-string form unless o.processData is false\n      , data = (o.processData !== false && o.data && typeof o.data !== 'string')\n        ? reqwest.toQueryString(o.data)\n        : (o.data || null)\n      , http\n\n    // if we're working on a GET request and we have data then we should append\n    // query string to end of URL and not post data\n    if ((o.type == 'jsonp' || method == 'GET') && data) {\n      url = urlappend(url, data)\n      data = null\n    }\n\n    if (o.type == 'jsonp') return handleJsonp(o, fn, err, url)\n\n    http = xhr()\n    http.open(method, url, true)\n    setHeaders(http, o)\n    http.onreadystatechange = handleReadyState(http, fn, err)\n    o.before && o.before(http)\n    http.send(data)\n    return http\n  }\n\n  function Reqwest(o, fn) {\n    this.o = o\n    this.fn = fn\n    init.apply(this, arguments)\n  }\n\n  function setType(url) {\n    var m = url.match(/\\.(json|jsonp|html|xml)(\\?|$)/)\n    return m ? m[1] : 'js'\n  }\n\n  function init(o, fn) {\n    this.url = typeof o == 'string' ? o : o.url\n    this.timeout = null\n    var type = o.type || setType(this.url)\n      , self = this\n    fn = fn || function () {}\n\n    if (o.timeout) {\n      this.timeout = setTimeout(function () {\n        self.abort()\n      }, o.timeout)\n    }\n\n    function complete(resp) {\n      o.timeout && clearTimeout(self.timeout)\n      self.timeout = null\n      o.complete && o.complete(resp)\n    }\n\n    function success(resp) {\n      var r = resp.responseText\n      if (r) {\n        switch (type) {\n        case 'json':\n          try {\n            resp = win.JSON ? win.JSON.parse(r) : eval('(' + r + ')')\n          } catch (err) {\n            return error(resp, 'Could not parse JSON in response', err)\n          }\n          break;\n        case 'js':\n          resp = eval(r)\n          break;\n        case 'html':\n          resp = r\n          break;\n        }\n      }\n\n      fn(resp)\n      o.success && o.success(resp)\n\n      complete(resp)\n    }\n\n    function error(resp, msg, t) {\n      o.error && o.error(resp, msg, t)\n      complete(resp)\n    }\n\n    this.request = getRequest(o, success, error)\n  }\n\n  Reqwest.prototype = {\n    abort: function () {\n      this.request.abort()\n    }\n\n  , retry: function () {\n      init.call(this, this.o, this.fn)\n    }\n  }\n\n  function reqwest(o, fn) {\n    return new Reqwest(o, fn)\n  }\n\n  // normalize newline variants according to spec -> CRLF\n  function normalize(s) {\n    return s ? s.replace(/\\r?\\n/g, '\\r\\n') : ''\n  }\n\n  function serial(el, cb) {\n    var n = el.name\n      , t = el.tagName.toLowerCase()\n      , optCb = function(o) {\n          // IE gives value=\"\" even where there is no value attribute\n          // 'specified' ref: http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-862529273\n          if (o && !o.disabled)\n            cb(n, normalize(o.attributes.value && o.attributes.value.specified ? o.value : o.text))\n        }\n\n    // don't serialize elements that are disabled or without a name\n    if (el.disabled || !n) return;\n\n    switch (t) {\n    case 'input':\n      if (!/reset|button|image|file/i.test(el.type)) {\n        var ch = /checkbox/i.test(el.type)\n          , ra = /radio/i.test(el.type)\n          , val = el.value;\n        // WebKit gives us \"\" instead of \"on\" if a checkbox has no value, so correct it here\n        (!(ch || ra) || el.checked) && cb(n, normalize(ch && val === '' ? 'on' : val))\n      }\n      break;\n    case 'textarea':\n      cb(n, normalize(el.value))\n      break;\n    case 'select':\n      if (el.type.toLowerCase() === 'select-one') {\n        optCb(el.selectedIndex >= 0 ? el.options[el.selectedIndex] : null)\n      } else {\n        for (var i = 0; el.length && i < el.length; i++) {\n          el.options[i].selected && optCb(el.options[i])\n        }\n      }\n      break;\n    }\n  }\n\n  // collect up all form elements found from the passed argument elements all\n  // the way down to child elements; pass a '<form>' or form fields.\n  // called with 'this'=callback to use for serial() on each element\n  function eachFormElement() {\n    var cb = this\n      , e, i, j\n      , serializeSubtags = function(e, tags) {\n        for (var i = 0; i < tags.length; i++) {\n          var fa = e[byTag](tags[i])\n          for (j = 0; j < fa.length; j++) serial(fa[j], cb)\n        }\n      }\n\n    for (i = 0; i < arguments.length; i++) {\n      e = arguments[i]\n      if (/input|select|textarea/i.test(e.tagName)) serial(e, cb)\n      serializeSubtags(e, [ 'input', 'select', 'textarea' ])\n    }\n  }\n\n  // standard query string style serialization\n  function serializeQueryString() {\n    return reqwest.toQueryString(reqwest.serializeArray.apply(null, arguments))\n  }\n\n  // { 'name': 'value', ... } style serialization\n  function serializeHash() {\n    var hash = {}\n    eachFormElement.apply(function (name, value) {\n      if (name in hash) {\n        hash[name] && !isArray(hash[name]) && (hash[name] = [hash[name]])\n        hash[name].push(value)\n      } else hash[name] = value\n    }, arguments)\n    return hash\n  }\n\n  // [ { name: 'name', value: 'value' }, ... ] style serialization\n  reqwest.serializeArray = function () {\n    var arr = []\n    eachFormElement.apply(function(name, value) {\n      arr.push({name: name, value: value})\n    }, arguments)\n    return arr\n  }\n\n  reqwest.serialize = function () {\n    if (arguments.length === 0) return ''\n    var opt, fn\n      , args = Array.prototype.slice.call(arguments, 0)\n\n    opt = args.pop()\n    opt && opt.nodeType && args.push(opt) && (opt = null)\n    opt && (opt = opt.type)\n\n    if (opt == 'map') fn = serializeHash\n    else if (opt == 'array') fn = reqwest.serializeArray\n    else fn = serializeQueryString\n\n    return fn.apply(null, args)\n  }\n\n  reqwest.toQueryString = function (o) {\n    var qs = '', i\n      , enc = encodeURIComponent\n      , push = function (k, v) {\n          qs += enc(k) + '=' + enc(v) + '&'\n        }\n\n    if (isArray(o)) {\n      for (i = 0; o && i < o.length; i++) push(o[i].name, o[i].value)\n    } else {\n      for (var k in o) {\n        if (!Object.hasOwnProperty.call(o, k)) continue;\n        var v = o[k]\n        if (isArray(v)) {\n          for (i = 0; i < v.length; i++) push(k, v[i])\n        } else push(k, o[k])\n      }\n    }\n\n    // spaces should be + according to spec\n    return qs.replace(/&$/, '').replace(/%20/g,'+')\n  }\n\n  // jQuery and Zepto compatibility, differences can be remapped here so you can call\n  // .ajax.compat(options, callback)\n  reqwest.compat = function (o, fn) {\n    if (o) {\n      o.type && (o.method = o.type) && delete o.type\n      o.dataType && (o.type = o.dataType)\n      o.jsonpCallback && (o.jsonpCallbackName = o.jsonpCallback) && delete o.jsonpCallback\n      o.jsonp && (o.jsonpCallback = o.jsonp)\n    }\n    return new Reqwest(o, fn)\n  }\n\n  return reqwest\n})\n\n//@ sourceURL=/node_modules/reqwest/reqwest.js"));

require.define("/lib/common.js",Function(['require','module','exports','__dirname','__filename','process'],"var humane = require('humane-js');\n\nexports.notify = function(message) {\n    console.log('NOTIFY', message);\n    // TODO also, dream about desktop notifications?\n    // http://www.html5rocks.com/en/tutorials/notifications/quick/\n    humane.log(message);\n};\nexports.error = function(err) {\n    exports.notify('Error ' + err.err + ': ' + err.msg);\n    return err;\n};\n\nexports.findById = function(arr, id) {\n    return exports.findBy(arr, 'id', id);\n};\nexports.findBy = function(arr, key, val) {\n    for(var i = 0; i < arr.length; i += 1) {\n        if(arr[i][key] === val) {\n            return arr[i];\n        }\n    }\n    return null;\n};\n\n//@ sourceURL=/lib/common.js"));

require.define("/node_modules/humane-js/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"humane.js\"}\n//@ sourceURL=/node_modules/humane-js/package.json"));

require.define("/node_modules/humane-js/humane.js",Function(['require','module','exports','__dirname','__filename','process'],"/**\n * humane.js\n * Humanized Messages for Notifications\n * @author Marc Harter (@wavded)\n * @example\n *   humane.log('hello world');\n * See more usage examples at: http://wavded.github.com/humane-js/\n */\n\n;!function (name, context, definition) {\n   if (typeof module !== 'undefined') module.exports = definition(name, context)\n   else if (typeof define === 'function' && typeof define.amd  === 'object') define(definition)\n   else context[name] = definition(name, context)\n}('humane', this, function (name, context) {\n   var win = window\n   var doc = document\n\n   var ENV = {\n      on: function (el, type, cb) {\n         'addEventListener' in win ? el.addEventListener(type,cb,false) : el.attachEvent('on'+type,cb)\n      },\n      off: function (el, type, cb) {\n         'removeEventListener' in win ? el.removeEventListener(type,cb,false) : el.detachEvent('on'+type,cb)\n      },\n      bind: function (fn, ctx) {\n         return function () { fn.apply(ctx,arguments) }\n      },\n      isArray: Array.isArray || function (obj) { return Object.prototype.toString.call(obj) === '[object Array]' },\n      domLoaded: false,\n      config: function (preferred, fallback) {\n         return preferred != null ? preferred : fallback\n      },\n      transSupport: false,\n      useFilter: /msie [678]/i.test(navigator.userAgent), // sniff, sniff\n      _checkTransition: function () {\n         var el = doc.createElement('div')\n         var vendors = { webkit: 'webkit', Moz: '', O: 'o', ms: 'MS' }\n\n         for (var vendor in vendors)\n            if (vendor + 'Transition' in el.style) {\n               this.vendorPrefix = vendors[vendor]\n               this.transSupport = true\n            }\n      }\n   }\n   ENV._checkTransition()\n\n   var Humane = function (o) {\n      o || (o = {})\n      this.queue = []\n      this.baseCls = o.baseCls || 'humane'\n      this.addnCls = o.addnCls || ''\n      this.timeout = o.timeout || 2500\n      this.waitForMove = o.waitForMove || false\n      this.clickToClose = o.clickToClose || false\n      this.forceNew = o.forceNew || false\n\n      if (ENV.domLoaded) this._setupEl()\n      else ENV.on(win,'load',ENV.bind(this._setupEl, this))\n   }\n\n   Humane.prototype = {\n      constructor: Humane,\n      _setupEl: function () {\n         var el = doc.createElement('div')\n         el.style.display = 'none'\n         doc.body.appendChild(el)\n         this.el = el\n         this.removeEvent = ENV.bind(this.remove,this)\n         this.transEvent = ENV.bind(this._afterAnimation,this)\n         ENV.domLoaded = true\n         this._run()\n      },\n      _afterTimeout: function () {\n         if (!ENV.config(this.currentMsg.waitForMove,this.waitForMove)) this.remove()\n\n         else if (!this.removeEventsSet) {\n            ENV.on(doc.body,'mousemove',this.removeEvent)\n            ENV.on(doc.body,'click',this.removeEvent)\n            ENV.on(doc.body,'keypress',this.removeEvent)\n            ENV.on(doc.body,'touchstart',this.removeEvent)\n            this.removeEventsSet = true\n         }\n      },\n      _run: function () {\n         if (this._animating || !this.queue.length || !this.el) return\n\n         this._animating = true\n         if (this.currentTimer) {\n            clearTimeout(this.currentTimer)\n            this.currentTimer = null\n         }\n\n         var msg = this.queue.shift()\n         var clickToClose = ENV.config(msg.clickToClose,this.clickToClose)\n\n         if (clickToClose) {\n            ENV.on(this.el,'click',this.removeEvent)\n            ENV.on(this.el,'touchstart',this.removeEvent)\n         }\n\n         var timeout = ENV.config(msg.timeout,this.timeout)\n\n         if (timeout > 0)\n            this.currentTimer = setTimeout(ENV.bind(this._afterTimeout,this), timeout)\n\n         // events['show'](type,content,'show')\n         if (ENV.isArray(msg.html)) msg.html = '<ul><li>'+msg.html.join('<li>')+'</ul>'\n\n         this.el.innerHTML = msg.html\n         this.currentMsg = msg\n         this.el.className = this.baseCls\n         if (ENV.transSupport) {\n            this.el.style.display = 'block'\n            setTimeout(ENV.bind(this._showMsg,this),50)\n         } else {\n            this._showMsg()\n         }\n\n      },\n      _setOpacity: function (opacity) {\n         if (ENV.useFilter)\n            this.el.filters.item('DXImageTransform.Microsoft.Alpha').Opacity = opacity*100\n         else\n            this.el.style.opacity = String(opacity)\n      },\n      _showMsg: function () {\n         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)\n         if (ENV.transSupport) {\n            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-animate'\n         }\n         else {\n            var opacity = 0\n            this.el.className = this.baseCls+' '+addnCls+' '+this.baseCls+'-js-animate'\n            this._setOpacity(0) // reset value so hover states work\n            this.el.style.display = 'block'\n\n            var self = this\n            var interval = setInterval(function(){\n               if (opacity < 1) {\n                  opacity += 0.1\n                  if (opacity > 1) opacity = 1\n                  self._setOpacity(opacity)\n               }\n               else clearInterval(interval)\n            }, 30)\n         }\n      },\n      _hideMsg: function () {\n         var addnCls = ENV.config(this.currentMsg.addnCls,this.addnCls)\n         if (ENV.transSupport) {\n            this.el.className = this.baseCls+' '+addnCls\n            ENV.on(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)\n         }\n         else {\n            var opacity = 1\n            var self = this\n            var interval = setInterval(function(){\n               if(opacity > 0) {\n                  opacity -= 0.1\n                  if (opacity < 0) opacity = 0\n                  self._setOpacity(opacity);\n               }\n               else {\n                  self.el.className = self.baseCls+' '+addnCls\n                  clearInterval(interval)\n                  self._afterAnimation()\n               }\n            }, 30)\n         }\n      },\n      _afterAnimation: function () {\n         if (ENV.transSupport) ENV.off(this.el,ENV.vendorPrefix ? ENV.vendorPrefix+'TransitionEnd' : 'transitionend',this.transEvent)\n\n         if (this.currentMsg.cb) this.currentMsg.cb()\n         this.el.style.display = 'none'\n\n         this._animating = false\n         // events['hide'](currentMessage.type, currentMessage.message,'hide');\n         this._run()\n      },\n      remove: function (e) {\n         var cb = typeof e == 'function' ? e : null\n\n         ENV.off(doc.body,'mousemove',this.removeEvent)\n         ENV.off(doc.body,'click',this.removeEvent)\n         ENV.off(doc.body,'keypress',this.removeEvent)\n         ENV.off(doc.body,'touchstart',this.removeEvent)\n         ENV.off(this.el,'click',this.removeEvent)\n         ENV.off(this.el,'touchstart',this.removeEvent)\n         this.removeEventsSet = false\n\n         if (cb) this.currentMsg.cb = cb\n         if (this._animating) this._hideMsg()\n         else if (cb) cb()\n      },\n      log: function (html, o, cb, defaults) {\n         var msg = {}\n         if (defaults)\n           for (var opt in defaults)\n               msg[opt] = defaults[opt]\n\n         if (typeof o == 'function') cb = o\n         else if (o)\n            for (var opt in o) msg[opt] = o[opt]\n\n         msg.html = html\n         if (cb) msg.cb = cb\n         this.queue.push(msg)\n         this._run()\n         return this\n      },\n      spawn: function (defaults) {\n         var self = this\n         return function (html, o, cb) {\n            self.log.call(self,html,o,cb,defaults)\n            return self\n         }\n      },\n      create: function (o) { return new Humane(o) }\n   }\n   return new Humane()\n})\n\n//@ sourceURL=/node_modules/humane-js/humane.js"));

require.define("/node_modules/page/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"build/page.js\"}\n//@ sourceURL=/node_modules/page/package.json"));

require.define("/node_modules/page/build/page.js",Function(['require','module','exports','__dirname','__filename','process'],"\n;(function(){\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or `page.start()`.\n   *\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page();\n   *\n   * @param {String} path\n   * @param {Function} fn...\n   * @api public\n   */\n\n  function page(path, fn) {\n    // route <path> to <callback ...>\n    if ('function' == typeof fn) {\n      var route = new Route(path);\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n    // show <path> with [state]\n    } else if ('string' == typeof path) {\n      page.show(path, fn);\n    // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  page.base = function(path){\n    if (0 == arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options){\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false !== options.popstate) addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) addEventListener('click', onclick, false);\n    if (!dispatch) return;\n    page.replace(location.pathname, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function(){\n    running = false;\n    removeEventListener('click', onclick, false);\n    removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n  page.show = function(path, state){\n    var ctx = new Context(path, state);\n    page.dispatch(ctx);\n    if (!ctx.unhandled) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n  page.replace = function(path, state, init, dispatch){\n    var ctx = new Context(path, state);\n    ctx.init = init;\n    if (null == dispatch) dispatch = true;\n    if (dispatch) page.dispatch(ctx);\n    ctx.save();\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Object} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx){\n    var i = 0;\n\n    function next() {\n      var fn = page.callbacks[i++];\n      if (!fn) return unhandled(ctx);\n      fn(ctx, next);\n    }\n\n    next();\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  function unhandled(ctx) {\n    if (window.location.pathname == ctx.canonicalPath) return;\n    page.stop();\n    ctx.unhandled = true;\n    window.location = ctx.canonicalPath;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    if ('/' == path[0] && 0 != path.indexOf(base)) path = base + path;\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.params = [];\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function(){\n    history.pushState(this.state, this.title, this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function(){\n    history.replaceState(this.state, this.title, this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @param {String} path\n   * @param {Object} options.\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(path\n      , this.keys = []\n      , options.sensitive\n      , options.strict);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn){\n    var self = this;\n    return function(ctx, next){\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    }\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {String} path\n   * @param {Array} params\n   * @return {Boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params){\n    var keys = this.keys\n      , m = this.regexp.exec(path);\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n\n      var val = 'string' == typeof m[i]\n        ? decodeURIComponent(m[i])\n        : m[i];\n\n      if (key) {\n        params[key.name] = undefined !== params[key.name]\n          ? params[key.name]\n          : val;\n      } else {\n        params.push(val);\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Normalize the given path string,\n   * returning a regular expression.\n   *\n   * An empty array should be passed,\n   * which will contain the placeholder\n   * key names. For example \"/user/:id\" will\n   * then contain [\"id\"].\n   *\n   * @param  {String|RegExp|Array} path\n   * @param  {Array} keys\n   * @param  {Boolean} sensitive\n   * @param  {Boolean} strict\n   * @return {RegExp}\n   * @api private\n   */\n\n  function pathtoRegexp(path, keys, sensitive, strict) {\n    if (path instanceof RegExp) return path;\n    if (path instanceof Array) path = '(' + path.join('|') + ')';\n    path = path\n      .concat(strict ? '' : '/?')\n      .replace(/\\/\\(/g, '(?:/')\n      .replace(/\\+/g, '__plus__')\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional){\n        keys.push({ name: key, optional: !! optional });\n        slash = slash || '';\n        return ''\n          + (optional ? '' : slash)\n          + '(?:'\n          + (optional ? slash : '')\n          + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')'\n          + (optional || '');\n      })\n      .replace(/([\\/.])/g, '\\\\$1')\n      .replace(/__plus__/g, '(.+)')\n      .replace(/\\*/g, '(.*)');\n    return new RegExp('^' + path + '$', sensitive ? '' : 'i');\n  };\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  function onpopstate(e) {\n    if (e.state) {\n      var path = e.state.path;\n      page.replace(path, e.state);\n    }\n  }\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n    var el = e.target;\n    while (el && 'A' != el.nodeName) el = el.parentNode;\n    if (!el || 'A' != el.nodeName) return;\n    var href = el.href;\n    var path = el.pathname;\n    if (el.hash) return;\n    if (!sameOrigin(href)) return;\n    var orig = path;\n    path = path.replace(base, '');\n    if (base && orig == path) return;\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return 0 == href.indexOf(origin);\n  }\n\n  /**\n   * Expose `page`.\n   */\n\n  if ('undefined' == typeof module) {\n    window.page = page;\n  } else {\n    module.exports = page;\n  }\n\n})();\n//@ sourceURL=/node_modules/page/build/page.js"));

require.define("/lib/component/storeBuilders.js",Function(['require','module','exports','__dirname','__filename','process'],"var common = require('../common');\nvar bean = require('bean');\nvar deep = require('../deep');\n\nexports.init = function(page, cb) {\n    page.on('queue_size', function(_, queue_size) {\n        var q = common.findBy(page.store.builders, 'name', queue_size.name);\n        q.queue_size = queue_size.queue_size;\n        bean.fire(q, 'update');\n    });\n\n    bean.add(page.store.builders, 'startUpdate', function() {\n        page.req('builders', null, function(_, builders) {\n            var changes = deep.update(page.store.builders, builders);\n            if(changes.updated.length > 0 || changes.inserted.length > 0 || changes.deleted.length > 0) {\n                bean.fire(page.store.builders, 'endUpdate', changes);\n            }\n        });\n    });\n    bean.fire(page.store.builders, 'startUpdate');\n    cb(null);\n\n};\n\n//@ sourceURL=/lib/component/storeBuilders.js"));

require.define("/lib/deep.js",Function(['require','module','exports','__dirname','__filename','process'],"var equal = require('deep-equal');\nvar bean = require('bean');\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nvar copy = function(source, target) {\n    var i, j, found;\n    for(i in source) {\n        if(hasOwn(source, i)) {\n            if(hasOwn(target, i)) {\n                if(['number', 'string', 'boolean'].indexOf(typeof source[i]) < 0) {\n                    if(source[i] === null) {\n                        target[i] = null;\n                    } else {\n                        copy(source[i], target[i]);\n                    }\n                } else {\n                    target[i] = source[i];\n                }\n            } else {\n                target[i] = source[i];\n            }\n        }\n    }\n    for(i in target) {\n        if(hasOwn(target, i) && !hasOwn(source, i)) {\n            delete target[i];\n        }\n    }\n};\n\nexports.update = function(target, source) {\n    var deleted = [];\n    var inserted = [];\n    var updated = [];\n    var i, j, found;\n    for(i = 0; i < source.length; i += 1) {\n        found = false;\n        for(j = 0; j < target.length; j += 1) {\n            if(source[i].id === target[j].id) {\n                found = true;\n                if(!equal(source[i], target[j])) {\n                    copy(source[i], target[j]);\n                    bean.fire(target[j], 'update');\n                    updated.push(target[i]);\n                }\n                break;\n            }\n        }\n        if(!found) {\n            inserted.push(source[i]);\n        }\n    }\n    for(i = 0; i < target.length; i += 1) {\n        found = false;\n        for(j = 0; j < source.length; j += 1) {\n            if(source[j].id === target[i].id) {\n                found = true;\n                break;\n            }\n        }\n        if(!found) {\n            deleted.push(target[i]);\n            bean.fire(target[i], 'delete');\n            target.splice(i, 1);\n            i -= 1;\n        }\n    }\n    for(i = 0; i < inserted.length; i += 1) {\n        target.push(inserted[i]);\n    }\n    return {\n        updated : updated,\n        inserted : inserted,\n        deleted : deleted\n    };\n};\n\n\n//@ sourceURL=/lib/deep.js"));

require.define("/node_modules/deep-equal/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"index.js\"}\n//@ sourceURL=/node_modules/deep-equal/package.json"));

require.define("/node_modules/deep-equal/index.js",Function(['require','module','exports','__dirname','__filename','process'],"var pSlice = Array.prototype.slice;\nvar Object_keys = typeof Object.keys === 'function'\n    ? Object.keys\n    : function (obj) {\n        var keys = [];\n        for (var key in obj) keys.push(key);\n        return keys;\n    }\n;\n\nvar deepEqual = module.exports = function (actual, expected) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (typeof actual != 'object' && typeof expected != 'object') {\n    return actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b) {\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b);\n  }\n  try {\n    var ka = Object_keys(a),\n        kb = Object_keys(b),\n        key, i;\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key])) return false;\n  }\n  return true;\n}\n\n//@ sourceURL=/node_modules/deep-equal/index.js"));

require.define("/lib/component/log.js",Function(['require','module','exports','__dirname','__filename','process'],"var t = require('../templates');\nvar w = require('../window');\nvar v = require('valentine');\nvar qwery = require('qwery');\nvar step = require('step');\nvar bean = require('bean');\nvar bonzo = require('bonzo');\nvar moment = require('moment');\nvar common = require('../common');\n\nexports.init = function(page, cb) {\n    page.handle('/', function() {\n        if(page.projectId) {\n            page.go('/' + page.projectId);\n        } else {\n            page.go('/1');\n        }\n    });\n    page.handle(/^\\/(.+)$/, function(from, to, params) {\n        step(function() {\n            page.req('builds', page.projectId, this.parallel());\n            page.req('project', page.projectId, this.parallel());\n        }, function(err, builds, project) {\n            if(err) {\n                page.body.html(t.error.render({\n                    title : 'No projects found'\n                }));\n                return;\n            }\n            var offs = [];\n            offs.push(page.on('build_finished', function(_, buildFinished) {\n                if(buildFinished.project_id === project.id) {\n                    var build = common.findById(builds, buildFinished.build_id);\n                    build.finished = true;\n                    build.succeeded = buildFinished.success;\n                    // TODO this is fishy - when is build.buildInit undefined?\n                    build.time = (buildFinished.timestamp - (build.buildInit ? build.buildInit.timestamp : 0)) * 1000;\n                    build.origTime = build.time;\n                    build.time += ' ms';\n                    if(build.previous) {\n                        build.timeDelta = build.origTime - build.previous.origTime;\n                        build.timeDelta += ' ms';\n                    }\n                    w.el('build-' + build.id).replaceWith(t.logBuild.render(build, t));\n                    attachClickHandler(w.el('build-' + build.id)[0]);\n                }\n            }));\n            offs.push(page.on('build_init', function(_, buildInit) {\n                if(buildInit.project_id === project.id) {\n                    var build = {\n                        previous : builds[0] || null,\n                        buildInit : buildInit,\n                        id : buildInit.build_id,\n                        commit_id : buildInit.commit_id,\n                        started : moment(new Date(buildInit.timestamp * 1000)).format('LLLL'),\n                        finished : false,\n                        modules : '',\n                        tests : ''\n                    };\n                    w.el('builds').prepend(t.logBuild.render(build, t));\n                    attachClickHandler(w.el('build-' + build.id)[0]);\n                    builds.unshift(build);\n                }\n            }));\n            page.beforego(function(from, to) {\n                v.each(offs, function(off) {\n                    off();\n                });\n            });\n            var buildLag = null;\n\n            builds.reverse();\n            v.each(builds, function(build) {\n                build.origTime = build.time;\n                build.time += ' ms';\n                if(buildLag === null) {\n                    build.timeDelta = null;\n                } else {\n                    build.timeDelta = (build.origTime - buildLag.origTime) + ' ms';\n                }\n                buildLag = build;\n            });\n            builds.reverse();\n\n            v.each(builds, function(build) {\n                build.started = moment(new Date(build.started * 1000)).format('LLLL');\n            });\n            page.body.html(t.log.render({\n                builds : builds,\n                project : project\n            }, t));\n            var attachClickHandler = function(row) {\n                if(row.parentNode.nodeName.toLowerCase() === 'thead') {\n                    return;\n                }\n                bean.add(row, 'click', function() {\n                    page.go('/' + project.id + '/build/' + bonzo(row).data('id'));\n                });\n                var rebuild = bonzo(qwery('.rebuild', row));\n                bean.add(rebuild[0], 'click', function(e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    page.req('rebuild_now', {\n                        project : rebuild.data('project'),\n                        commit : rebuild.data('commit')\n                    });\n                });\n            };\n            v.each(qwery('tr'), attachClickHandler);\n        });\n    });\n    cb();\n};\n\n//@ sourceURL=/lib/component/log.js"));

require.define("/node_modules/valentine/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./valentine.js\"}\n//@ sourceURL=/node_modules/valentine/package.json"));

require.define("/node_modules/valentine/valentine.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * Valentine: JavaScript's functional Sister\n  * (c) Dustin Diaz 2012\n  * https://github.com/ded/valentine\n  * License MIT\n  */\n\n(function (name, definition) {\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function') define(definition)\n  else this[name] = this['v'] = definition()\n})('valentine', function () {\n\n  var context = this\n    , old = context.v\n    , ap = []\n    , hasOwn = Object.prototype.hasOwnProperty\n    , n = null\n    , slice = ap.slice\n    , nativ = 'map' in ap\n    , nativ18 = 'reduce' in ap\n    , trimReplace = /(^\\s*|\\s*$)/g\n    , iters = {\n    each: nativ ?\n      function (a, fn, scope) {\n        ap.forEach.call(a, fn, scope)\n      } :\n      function (a, fn, scope) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          i in a && fn.call(scope, a[i], i, a)\n        }\n      }\n\n  , map: nativ ?\n      function (a, fn, scope) {\n        return ap.map.call(a, fn, scope)\n      } :\n      function (a, fn, scope) {\n        var r = [], i\n        for (i = 0, l = a.length; i < l; i++) {\n          i in a && (r[i] = fn.call(scope, a[i], i, a))\n        }\n        return r\n      }\n\n  , some: nativ ?\n      function (a, fn, scope) {\n        return a.some(fn, scope)\n      } :\n      function (a, fn, scope) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (i in a && fn.call(scope, a[i], i, a)) return true\n        }\n        return false\n      }\n\n  , every: nativ ?\n      function (a, fn, scope) {\n        return a.every(fn, scope)\n      } :\n      function (a, fn, scope) {\n        for (var i = 0, l = a.length; i < l; i++) {\n          if (i in a && !fn.call(scope, a[i], i, a)) return false\n        }\n        return true\n      }\n\n  , filter: nativ ?\n      function (a, fn, scope) {\n        return a.filter(fn, scope)\n      } :\n      function (a, fn, scope) {\n        for (var r = [], i = 0, j = 0, l = a.length; i < l; i++) {\n          if (i in a) {\n            if (!fn.call(scope, a[i], i, a)) continue;\n            r[j++] = a[i]\n          }\n        }\n        return r\n      }\n\n  , indexOf: nativ ?\n      function (a, el, start) {\n        return a.indexOf(el, isFinite(start) ? start : 0)\n      } :\n      function (a, el, start) {\n        start = start || 0\n        start = start < 0 ? 0 : start\n        start = start > a.length ? a.length : start\n        for (var i = start; i < a.length; i++) {\n          if (i in a && a[i] === el) return i\n        }\n        return -1\n      }\n\n  , lastIndexOf: nativ ?\n      function (a, el, start) {\n        return a.lastIndexOf(el, isFinite(start) ? start : a.length)\n      } :\n      function (a, el, start) {\n        start = start || a.length\n        start = start >= a.length ? a.length :\n          start < 0 ? a.length + start : start\n        for (var i = start; i >= 0; --i) {\n          if (i in a && a[i] === el) {\n            return i\n          }\n        }\n        return -1\n      }\n\n  , reduce: nativ18 ?\n      function (o, i, m, c) {\n        return ap.reduce.call(o, i, m, c);\n      } :\n      function (obj, iterator, memo, context) {\n        if (!obj) obj = []\n        var i = 0, l = obj.length\n        if (arguments.length < 3) {\n          do {\n            if (i in obj) {\n              memo = obj[i++]\n              break;\n            }\n            if (++i >= l) {\n              throw new TypeError('Empty array')\n            }\n          } while (1)\n        }\n        for (; i < l; i++) {\n          if (i in obj) {\n            memo = iterator.call(context, memo, obj[i], i, obj)\n          }\n        }\n        return memo\n      }\n\n  , reduceRight: nativ18 ?\n      function (o, i, m, c) {\n        return ap.reduceRight.call(o, i, m, c)\n      } :\n      function (obj, iterator, memo, context) {\n        !obj && (obj = [])\n        var l = obj.length, i = l - 1\n        if (arguments.length < 3) {\n          do {\n            if (i in obj) {\n              memo = obj[i--]\n              break;\n            }\n            if (--i < 0) {\n              throw new TypeError('Empty array')\n            }\n          } while (1)\n        }\n        for (; i >= 0; i--) {\n          if (i in obj) {\n            memo = iterator.call(context, memo, obj[i], i, obj)\n          }\n        }\n        return memo\n      }\n\n  , find: function (obj, iterator, context) {\n      var result\n      iters.some(obj, function (value, index, list) {\n        if (iterator.call(context, value, index, list)) {\n          result = value\n          return true\n        }\n      })\n      return result\n    }\n\n  , reject: function (a, fn, scope) {\n      var r = []\n      for (var i = 0, j = 0, l = a.length; i < l; i++) {\n        if (i in a) {\n          if (fn.call(scope, a[i], i, a)) {\n            continue;\n          }\n          r[j++] = a[i]\n        }\n      }\n      return r\n    }\n\n  , size: function (a) {\n      return o.toArray(a).length\n    }\n\n  , compact: function (a) {\n      return iters.filter(a, function (value) {\n        return !!value\n      })\n    }\n\n  , flatten: function (a) {\n      return iters.reduce(a, function (memo, value) {\n        if (is.arr(value)) {\n          return memo.concat(iters.flatten(value))\n        }\n        memo[memo.length] = value\n        return memo\n      }, [])\n    }\n\n  , uniq: function (ar, opt_iterator) {\n      var a = [], i, j\n      ar = opt_iterator ? iters.map(ar, opt_iterator) : ar\n      label:\n      for (i = 0; i < ar.length; i++) {\n        for (j = 0; j < a.length; j++) {\n          if (a[j] === ar[i]) {\n            continue label\n          }\n        }\n        a[a.length] = ar[i]\n      }\n      return a\n    }\n\n  , merge: function (one, two) {\n      var i = one.length, j = 0, l\n      if (isFinite(two.length)) {\n        for (l = two.length; j < l; j++) {\n          one[i++] = two[j]\n        }\n      } else {\n        while (two[j] !== undefined) {\n          first[i++] = second[j++]\n        }\n      }\n      one.length = i\n      return one\n    }\n\n  , inArray: function (ar, needle) {\n      return !!~iters.indexOf(ar, needle)\n    }\n\n  }\n\n  var is = {\n    fun: function (f) {\n      return typeof f === 'function'\n    }\n\n  , str: function (s) {\n      return typeof s === 'string'\n    }\n\n  , ele: function (el) {\n      return !!(el && el.nodeType && el.nodeType == 1)\n    }\n\n  , arr: function (ar) {\n      return ar instanceof Array\n    }\n\n  , arrLike: function (ar) {\n      return (ar && ar.length && isFinite(ar.length))\n    }\n\n  , num: function (n) {\n      return typeof n === 'number'\n    }\n\n  , bool: function (b) {\n      return (b === true) || (b === false)\n    }\n\n  , args: function (a) {\n      return !!(a && hasOwn.call(a, 'callee'))\n    }\n\n  , emp: function (o) {\n      var i = 0\n      return is.arr(o) ? o.length === 0 :\n        is.obj(o) ? (function () {\n          for (var k in o) {\n            i++\n            break;\n          }\n          return (i === 0)\n        }()) :\n        o === ''\n    }\n\n  , dat: function (d) {\n      return !!(d && d.getTimezoneOffset && d.setUTCFullYear)\n    }\n\n  , reg: function (r) {\n      return !!(r && r.test && r.exec && (r.ignoreCase || r.ignoreCase === false))\n    }\n\n  , nan: function (n) {\n      return n !== n\n    }\n\n  , nil: function (o) {\n      return o === n\n    }\n\n  , und: function (o) {\n      return typeof o === 'undefined'\n    }\n\n  , def: function (o) {\n      return typeof o !== 'undefined'\n    }\n\n  , obj: function (o) {\n      return o instanceof Object && !is.fun(o) && !is.arr(o)\n    }\n  }\n\n  var o = {\n    each: function (a, fn, scope) {\n      is.arrLike(a) ?\n        iters.each(a, fn, scope) : (function () {\n          for (var k in a) {\n            hasOwn.call(a, k) && fn.call(scope, k, a[k], a)\n          }\n        }())\n    }\n\n  , map: function (a, fn, scope) {\n      var r = [], i = 0\n      return is.arrLike(a) ?\n        iters.map(a, fn, scope) : !function () {\n          for (var k in a) {\n            hasOwn.call(a, k) && (r[i++] = fn.call(scope, k, a[k], a))\n          }\n        }() && r\n    }\n\n  , pluck: function (a, k) {\n      return is.arrLike(a) ?\n        iters.map(a, function (el) {\n          return el[k]\n        }) :\n        o.map(a, function (_, v) {\n          return v[k]\n        })\n    }\n\n  , toArray: function (a) {\n      if (!a) return []\n\n      if (is.arr(a)) return a\n\n      if (a.toArray) return a.toArray()\n\n      if (is.args(a)) return slice.call(a)\n\n      return iters.map(a, function (k) {\n        return k\n      })\n    }\n\n  , first: function (a) {\n      return a[0]\n    }\n\n  , last: function (a) {\n      return a[a.length - 1]\n    }\n\n  , keys: Object.keys ?\n      function (o) {\n        return Object.keys(o)\n      } :\n      function (obj) {\n        var keys = [], key\n        for (key in obj) if (hasOwn.call(obj, key)) keys[keys.length] = key\n        return keys\n      }\n\n  , values: function (ob) {\n      return o.map(ob, function (k, v) {\n        return v\n      })\n    }\n\n  , extend: function () {\n      // based on jQuery deep merge\n      var options, name, src, copy, clone\n        , target = arguments[0], i = 1, length = arguments.length\n\n      for (; i < length; i++) {\n        if ((options = arguments[i]) !== n) {\n          // Extend the base object\n          for (name in options) {\n            src = target[name]\n            copy = options[name]\n            if (target === copy) {\n              continue;\n            }\n            if (copy && (is.obj(copy))) {\n              clone = src && is.obj(src) ? src : {}\n              target[name] = o.extend(clone, copy);\n            } else if (copy !== undefined) {\n              target[name] = copy\n            }\n          }\n        }\n      }\n      return target\n    }\n\n  , trim: String.prototype.trim ?\n      function (s) {\n        return s.trim()\n      } :\n      function (s) {\n        return s.replace(trimReplace, '')\n      }\n\n  , bind: function (scope, fn) {\n      var args = arguments.length > 2 ? slice.call(arguments, 2) : null\n      return function () {\n        return fn.apply(scope, args ? args.concat(slice.call(arguments)) : arguments)\n      }\n    }\n\n  , curry: function (fn) {\n      if (arguments.length == 1) return fn\n      var args = slice.call(arguments, 1)\n      return function () {\n        return fn.apply(null, args.concat(slice.call(arguments)))\n      }\n    }\n\n  , parallel: function (fns, callback) {\n      var args = o.toArray(arguments)\n        , len = 0\n        , returns = []\n        , flattened = []\n\n      if (is.arr(fns) && fns.length === 0 || (is.fun(fns) && args.length === 1)) throw new TypeError('Empty parallel array')\n      if (!is.arr(fns)) {\n        callback = args.pop()\n        fns = args\n      }\n\n      iters.each(fns, function (el, i) {\n        el(function () {\n          var a = o.toArray(arguments)\n            , e = a.shift()\n          if (e) return callback(e)\n          returns[i] = a\n          if (fns.length == ++len) {\n            returns.unshift(n)\n\n            iters.each(returns, function (r) {\n              flattened = flattened.concat(r)\n            })\n\n            callback.apply(n, flattened)\n          }\n        })\n      })\n    }\n\n  , waterfall: function (fns, callback) {\n      var args = o.toArray(arguments)\n        , index = 0\n\n      if (is.arr(fns) && fns.length === 0 || (is.fun(fns) && args.length === 1)) throw new TypeError('Empty waterfall array')\n      if (!is.arr(fns)) {\n        callback = args.pop()\n        fns = args\n      }\n\n      (function f() {\n        var args = o.toArray(arguments)\n        args.push(f)\n        var err = args.shift()\n        if (!err && fns.length) fns.shift().apply(n, args)\n        else {\n          args.pop()\n          args.unshift(err)\n          callback.apply(n, args)\n        }\n      }(n))\n    }\n  , queue: function (ar) {\n      return new Queue(is.arrLike(ar) ? ar : o.toArray(arguments))\n    }\n  }\n\n  function Queue (a) {\n    this.values = a\n    this.index = 0\n  }\n\n  Queue.prototype.next = function () {\n    this.index < this.values.length && this.values[this.index++]()\n    return this\n  }\n\n  function v(a, scope) {\n    return new Valentine(a, scope)\n  }\n\n  function aug(o, o2) {\n    for (var k in o2) o[k] = o2[k]\n  }\n\n  aug(v, iters)\n  aug(v, o)\n  v.is = is\n\n  v.v = v // vainglory\n\n  // peoples like the object style\n  function Valentine(a, scope) {\n    this.val = a\n    this._scope = scope || n\n    this._chained = 0\n  }\n\n  v.each(v.extend({}, iters, o), function (name, fn) {\n    Valentine.prototype[name] = function () {\n      var a = v.toArray(arguments)\n      a.unshift(this.val)\n      var ret = fn.apply(this._scope, a)\n      this.val = ret\n      return this._chained ? this : ret\n    }\n  })\n\n  // people like chaining\n  aug(Valentine.prototype, {\n    chain: function () {\n      this._chained = 1\n      return this\n    }\n  , value: function () {\n      return this.val\n    }\n  })\n\n\n  v.noConflict = function () {\n    context.v = old\n    return this\n  }\n\n  return v\n});\n//@ sourceURL=/node_modules/valentine/valentine.js"));

require.define("/node_modules/qwery/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./qwery.js\"}\n//@ sourceURL=/node_modules/qwery/package.json"));

require.define("/node_modules/qwery/qwery.js",Function(['require','module','exports','__dirname','__filename','process'],"/*!\n  * @preserve Qwery - A Blazing Fast query selector engine\n  * https://github.com/ded/qwery\n  * copyright Dustin Diaz & Jacob Thornton 2012\n  * MIT License\n  */\n\n(function (name, definition, context) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof context['define'] == 'function' && context['define']['amd']) define(name, definition)\n  else context[name] = definition()\n})('qwery', function () {\n  var doc = document\n    , html = doc.documentElement\n    , byClass = 'getElementsByClassName'\n    , byTag = 'getElementsByTagName'\n    , qSA = 'querySelectorAll'\n    , useNativeQSA = 'useNativeQSA'\n    , tagName = 'tagName'\n    , nodeType = 'nodeType'\n    , select // main select() method, assign later\n\n    , id = /#([\\w\\-]+)/\n    , clas = /\\.[\\w\\-]+/g\n    , idOnly = /^#([\\w\\-]+)$/\n    , classOnly = /^\\.([\\w\\-]+)$/\n    , tagOnly = /^([\\w\\-]+)$/\n    , tagAndOrClass = /^([\\w]+)?\\.([\\w\\-]+)$/\n    , splittable = /(^|,)\\s*[>~+]/\n    , normalizr = /^\\s+|\\s*([,\\s\\+\\~>]|$)\\s*/g\n    , splitters = /[\\s\\>\\+\\~]/\n    , splittersMore = /(?![\\s\\w\\-\\/\\?\\&\\=\\:\\.\\(\\)\\!,@#%<>\\{\\}\\$\\*\\^'\"]*\\]|[\\s\\w\\+\\-]*\\))/\n    , specialChars = /([.*+?\\^=!:${}()|\\[\\]\\/\\\\])/g\n    , simple = /^(\\*|[a-z0-9]+)?(?:([\\.\\#]+[\\w\\-\\.#]+)?)/\n    , attr = /\\[([\\w\\-]+)(?:([\\|\\^\\$\\*\\~]?\\=)['\"]?([ \\w\\-\\/\\?\\&\\=\\:\\.\\(\\)\\!,@#%<>\\{\\}\\$\\*\\^]+)[\"']?)?\\]/\n    , pseudo = /:([\\w\\-]+)(\\(['\"]?([^()]+)['\"]?\\))?/\n    , easy = new RegExp(idOnly.source + '|' + tagOnly.source + '|' + classOnly.source)\n    , dividers = new RegExp('(' + splitters.source + ')' + splittersMore.source, 'g')\n    , tokenizr = new RegExp(splitters.source + splittersMore.source)\n    , chunker = new RegExp(simple.source + '(' + attr.source + ')?' + '(' + pseudo.source + ')?')\n    , walker = {\n        ' ': function (node) {\n          return node && node !== html && node.parentNode\n        }\n      , '>': function (node, contestant) {\n          return node && node.parentNode == contestant.parentNode && node.parentNode\n        }\n      , '~': function (node) {\n          return node && node.previousSibling\n        }\n      , '+': function (node, contestant, p1, p2) {\n          if (!node) return false\n          return (p1 = previous(node)) && (p2 = previous(contestant)) && p1 == p2 && p1\n        }\n      }\n\n  function cache() {\n    this.c = {}\n  }\n  cache.prototype = {\n    g: function (k) {\n      return this.c[k] || undefined\n    }\n  , s: function (k, v, r) {\n      v = r ? new RegExp(v) : v\n      return (this.c[k] = v)\n    }\n  }\n\n  var classCache = new cache()\n    , cleanCache = new cache()\n    , attrCache = new cache()\n    , tokenCache = new cache()\n\n  function classRegex(c) {\n    return classCache.g(c) || classCache.s(c, '(^|\\\\s+)' + c + '(\\\\s+|$)', 1)\n  }\n\n  // not quite as fast as inline loops in older browsers so don't use liberally\n  function each(a, fn) {\n    var i = 0, l = a.length\n    for (; i < l; i++) fn(a[i])\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function arrayify(ar) {\n    var i = 0, l = ar.length, r = []\n    for (; i < l; i++) r[i] = ar[i]\n    return r\n  }\n\n  function previous(n) {\n    while (n = n.previousSibling) if (n[nodeType] == 1) break;\n    return n\n  }\n\n  function q(query) {\n    return query.match(chunker)\n  }\n\n  // called using `this` as element and arguments from regex group results.\n  // given => div.hello[title=\"world\"]:foo('bar')\n  // div.hello[title=\"world\"]:foo('bar'), div, .hello, [title=\"world\"], title, =, world, :foo('bar'), foo, ('bar'), bar]\n  function interpret(whole, tag, idsAndClasses, wholeAttribute, attribute, qualifier, value, wholePseudo, pseudo, wholePseudoVal, pseudoVal) {\n    var i, m, k, o, classes\n    if (this[nodeType] !== 1) return false\n    if (tag && tag !== '*' && this[tagName] && this[tagName].toLowerCase() !== tag) return false\n    if (idsAndClasses && (m = idsAndClasses.match(id)) && m[1] !== this.id) return false\n    if (idsAndClasses && (classes = idsAndClasses.match(clas))) {\n      for (i = classes.length; i--;) if (!classRegex(classes[i].slice(1)).test(this.className)) return false\n    }\n    if (pseudo && qwery.pseudos[pseudo] && !qwery.pseudos[pseudo](this, pseudoVal)) return false\n    if (wholeAttribute && !value) { // select is just for existance of attrib\n      o = this.attributes\n      for (k in o) {\n        if (Object.prototype.hasOwnProperty.call(o, k) && (o[k].name || k) == attribute) {\n          return this\n        }\n      }\n    }\n    if (wholeAttribute && !checkAttr(qualifier, getAttr(this, attribute) || '', value)) {\n      // select is for attrib equality\n      return false\n    }\n    return this\n  }\n\n  function clean(s) {\n    return cleanCache.g(s) || cleanCache.s(s, s.replace(specialChars, '\\\\$1'))\n  }\n\n  function checkAttr(qualify, actual, val) {\n    switch (qualify) {\n    case '=':\n      return actual == val\n    case '^=':\n      return actual.match(attrCache.g('^=' + val) || attrCache.s('^=' + val, '^' + clean(val), 1))\n    case '$=':\n      return actual.match(attrCache.g('$=' + val) || attrCache.s('$=' + val, clean(val) + '$', 1))\n    case '*=':\n      return actual.match(attrCache.g(val) || attrCache.s(val, clean(val), 1))\n    case '~=':\n      return actual.match(attrCache.g('~=' + val) || attrCache.s('~=' + val, '(?:^|\\\\s+)' + clean(val) + '(?:\\\\s+|$)', 1))\n    case '|=':\n      return actual.match(attrCache.g('|=' + val) || attrCache.s('|=' + val, '^' + clean(val) + '(-|$)', 1))\n    }\n    return 0\n  }\n\n  // given a selector, first check for simple cases then collect all base candidate matches and filter\n  function _qwery(selector, _root) {\n    var r = [], ret = [], i, l, m, token, tag, els, intr, item, root = _root\n      , tokens = tokenCache.g(selector) || tokenCache.s(selector, selector.split(tokenizr))\n      , dividedTokens = selector.match(dividers)\n\n    if (!tokens.length) return r\n\n    token = (tokens = tokens.slice(0)).pop() // copy cached tokens, take the last one\n    if (tokens.length && (m = tokens[tokens.length - 1].match(idOnly))) root = byId(_root, m[1])\n    if (!root) return r\n\n    intr = q(token)\n    // collect base candidates to filter\n    els = root !== _root && root[nodeType] !== 9 && dividedTokens && /^[+~]$/.test(dividedTokens[dividedTokens.length - 1]) ?\n      function (r) {\n        while (root = root.nextSibling) {\n          root[nodeType] == 1 && (intr[1] ? intr[1] == root[tagName].toLowerCase() : 1) && (r[r.length] = root)\n        }\n        return r\n      }([]) :\n      root[byTag](intr[1] || '*')\n    // filter elements according to the right-most part of the selector\n    for (i = 0, l = els.length; i < l; i++) {\n      if (item = interpret.apply(els[i], intr)) r[r.length] = item\n    }\n    if (!tokens.length) return r\n\n    // filter further according to the rest of the selector (the left side)\n    each(r, function(e) { if (ancestorMatch(e, tokens, dividedTokens)) ret[ret.length] = e })\n    return ret\n  }\n\n  // compare element to a selector\n  function is(el, selector, root) {\n    if (isNode(selector)) return el == selector\n    if (arrayLike(selector)) return !!~flatten(selector).indexOf(el) // if selector is an array, is el a member?\n\n    var selectors = selector.split(','), tokens, dividedTokens\n    while (selector = selectors.pop()) {\n      tokens = tokenCache.g(selector) || tokenCache.s(selector, selector.split(tokenizr))\n      dividedTokens = selector.match(dividers)\n      tokens = tokens.slice(0) // copy array\n      if (interpret.apply(el, q(tokens.pop())) && (!tokens.length || ancestorMatch(el, tokens, dividedTokens, root))) {\n        return true\n      }\n    }\n    return false\n  }\n\n  // given elements matching the right-most part of a selector, filter out any that don't match the rest\n  function ancestorMatch(el, tokens, dividedTokens, root) {\n    var cand\n    // recursively work backwards through the tokens and up the dom, covering all options\n    function crawl(e, i, p) {\n      while (p = walker[dividedTokens[i]](p, e)) {\n        if (isNode(p) && (interpret.apply(p, q(tokens[i])))) {\n          if (i) {\n            if (cand = crawl(p, i - 1, p)) return cand\n          } else return p\n        }\n      }\n    }\n    return (cand = crawl(el, tokens.length - 1, el)) && (!root || isAncestor(cand, root))\n  }\n\n  function isNode(el, t) {\n    return el && typeof el === 'object' && (t = el[nodeType]) && (t == 1 || t == 9)\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    o: for (i = 0; i < ar.length; ++i) {\n      for (j = 0; j < a.length; ++j) if (a[j] == ar[i]) continue o\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  function byId(root, id, el) {\n    // if doc, query on it, else query the parent doc or if a detached fragment rewrite the query and run on the fragment\n    return root[nodeType] === 9 ? root.getElementById(id) :\n      root.ownerDocument &&\n        (((el = root.ownerDocument.getElementById(id)) && isAncestor(el, root) && el) ||\n          (!isAncestor(root, root.ownerDocument) && select('[id=\"' + id + '\"]', root)[0]))\n  }\n\n  function qwery(selector, _root) {\n    var m, el, root = normalizeRoot(_root)\n\n    // easy, fast cases that we can dispatch with simple DOM calls\n    if (!root || !selector) return []\n    if (selector === window || isNode(selector)) {\n      return !_root || (selector !== window && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n    if (m = selector.match(easy)) {\n      if (m[1]) return (el = byId(root, m[1])) ? [el] : []\n      if (m[2]) return arrayify(root[byTag](m[2]))\n      if (hasByClass && m[3]) return arrayify(root[byClass](m[3]))\n    }\n\n    return select(selector, root)\n  }\n\n  // where the root is not document and a relationship selector is first we have to\n  // do some awkward adjustments to get it to work, even with qSA\n  function collectSelector(root, collector) {\n    return function(s) {\n      var oid, nid\n      if (splittable.test(s)) {\n        if (root[nodeType] !== 9) {\n         // make sure the el has an id, rewrite the query, set root to doc and run it\n         if (!(nid = oid = root.getAttribute('id'))) root.setAttribute('id', nid = '__qwerymeupscotty')\n         s = '[id=\"' + nid + '\"]' + s // avoid byId and allow us to match context element\n         collector(root.parentNode || root, s, true)\n         oid || root.removeAttribute('id')\n        }\n        return;\n      }\n      s.length && collector(root, s, false)\n    }\n  }\n\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } : 'contains' in html ?\n    function (element, container) {\n      container = container[nodeType] === 9 || container == window ? html : container\n      return container !== element && container.contains(element)\n    } :\n    function (element, container) {\n      while (element = element.parentNode) if (element === container) return 1\n      return 0\n    }\n  , getAttr = function() {\n      // detect buggy IE src/href getAttribute() call\n      var e = doc.createElement('p')\n      return ((e.innerHTML = '<a href=\"#x\">x</a>') && e.firstChild.getAttribute('href') != '#x') ?\n        function(e, a) {\n          return a === 'class' ? e.className : (a === 'href' || a === 'src') ?\n            e.getAttribute(a, 2) : e.getAttribute(a)\n        } :\n        function(e, a) { return e.getAttribute(a) }\n   }()\n  , hasByClass = !!doc[byClass]\n    // has native qSA support\n  , hasQSA = doc.querySelector && doc[qSA]\n    // use native qSA\n  , selectQSA = function (selector, root) {\n      var result = [], ss, e\n      try {\n        if (root[nodeType] === 9 || !splittable.test(selector)) {\n          // most work is done right here, defer to qSA\n          return arrayify(root[qSA](selector))\n        }\n        // special case where we need the services of `collectSelector()`\n        each(ss = selector.split(','), collectSelector(root, function(ctx, s) {\n          e = ctx[qSA](s)\n          if (e.length == 1) result[result.length] = e.item(0)\n          else if (e.length) result = result.concat(arrayify(e))\n        }))\n        return ss.length > 1 && result.length > 1 ? uniq(result) : result\n      } catch(ex) { }\n      return selectNonNative(selector, root)\n    }\n    // no native selector support\n  , selectNonNative = function (selector, root) {\n      var result = [], items, m, i, l, r, ss\n      selector = selector.replace(normalizr, '$1')\n      if (m = selector.match(tagAndOrClass)) {\n        r = classRegex(m[2])\n        items = root[byTag](m[1] || '*')\n        for (i = 0, l = items.length; i < l; i++) {\n          if (r.test(items[i].className)) result[result.length] = items[i]\n        }\n        return result\n      }\n      // more complex selector, get `_qwery()` to do the work for us\n      each(ss = selector.split(','), collectSelector(root, function(ctx, s, rewrite) {\n        r = _qwery(s, ctx)\n        for (i = 0, l = r.length; i < l; i++) {\n          if (ctx[nodeType] === 9 || rewrite || isAncestor(r[i], root)) result[result.length] = r[i]\n        }\n      }))\n      return ss.length > 1 && result.length > 1 ? uniq(result) : result\n    }\n  , configure = function (options) {\n      // configNativeQSA: use fully-internal selector or native qSA where present\n      if (typeof options[useNativeQSA] !== 'undefined')\n        select = !options[useNativeQSA] ? selectNonNative : hasQSA ? selectQSA : selectNonNative\n    }\n\n  configure({ useNativeQSA: true })\n\n  qwery.configure = configure\n  qwery.uniq = uniq\n  qwery.is = is\n  qwery.pseudos = {}\n\n  return qwery\n}, this);\n\n//@ sourceURL=/node_modules/qwery/qwery.js"));

require.define("/node_modules/moment/package.json",Function(['require','module','exports','__dirname','__filename','process'],"module.exports = {\"main\":\"./moment.js\"}\n//@ sourceURL=/node_modules/moment/package.json"));

require.define("/node_modules/moment/moment.js",Function(['require','module','exports','__dirname','__filename','process'],"// moment.js\n// version : 1.6.2\n// author : Tim Wood\n// license : MIT\n// momentjs.com\n\n(function (Date, undefined) {\n\n    var moment,\n        VERSION = \"1.6.2\",\n        round = Math.round, i,\n        // internal storage for language config files\n        languages = {},\n        currentLanguage = 'en',\n\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined'),\n\n        // parameters to check for on the lang config\n        langConfigProperties = 'months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem'.split('|'),\n\n        // ASP.NET json date format regex\n        aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i,\n\n        // format tokens\n        formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,\n\n        // parsing tokens\n        parseMultipleFormatChunker = /([0-9a-zA-Z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+)/gi,\n\n        // parsing token regexes\n        parseTokenOneOrTwoDigits = /\\d\\d?/, // 0 - 99\n        parseTokenOneToThreeDigits = /\\d{1,3}/, // 0 - 999\n        parseTokenThreeDigits = /\\d{3}/, // 000 - 999\n        parseTokenFourDigits = /\\d{4}/, // 0000 - 9999\n        parseTokenWord = /[0-9a-z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+/i, // any word characters or numbers\n        parseTokenTimezone = /Z|[\\+\\-]\\d\\d:?\\d\\d/i, // +00:00 -00:00 +0000 -0000 or Z\n        parseTokenT = /T/i, // T (ISO seperator)\n\n        // preliminary iso regex \n        // 0000-00-00 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000\n        isoRegex = /^\\s*\\d{4}-\\d\\d-\\d\\d(T(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d\\d?\\d?)?)?)?)?([\\+\\-]\\d\\d:?\\d\\d)?)?/,\n        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',\n\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.S', /T\\d\\d:\\d\\d:\\d\\d\\.\\d{1,3}/],\n            ['HH:mm:ss', /T\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /T\\d\\d:\\d\\d/],\n            ['HH', /T\\d\\d/]\n        ],\n\n        // timezone chunker \"+10:00\" > [\"10\", \"00\"] or \"-1530\" > [\"-15\", \"30\"]\n        parseTimezoneChunker = /([\\+\\-]|\\d\\d)/gi,\n\n        // getter and setter names\n        proxyGettersAndSetters = 'Month|Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),\n        unitMillisecondFactors = {\n            'Milliseconds' : 1,\n            'Seconds' : 1e3,\n            'Minutes' : 6e4,\n            'Hours' : 36e5,\n            'Days' : 864e5,\n            'Months' : 2592e6,\n            'Years' : 31536e6\n        };\n\n    // Moment prototype object\n    function Moment(date, isUTC) {\n        this._d = date;\n        this._isUTC = !!isUTC;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    // Duration Constructor\n    function Duration(duration) {\n        var data = this._data = {},\n            years = duration.years || duration.y || 0,\n            months = duration.months || duration.M || 0, \n            weeks = duration.weeks || duration.w || 0,\n            days = duration.days || duration.d || 0,\n            hours = duration.hours || duration.h || 0,\n            minutes = duration.minutes || duration.m || 0,\n            seconds = duration.seconds || duration.s || 0,\n            milliseconds = duration.milliseconds || duration.ms || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = months +\n            years * 12;\n            \n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n        seconds += absRound(milliseconds / 1000);\n\n        data.seconds = seconds % 60;\n        minutes += absRound(seconds / 60);\n\n        data.minutes = minutes % 60;\n        hours += absRound(minutes / 60);\n\n        data.hours = hours % 24;\n        days += absRound(hours / 24);\n\n        days += weeks * 7;\n        data.days = days % 30;\n        \n        months += absRound(days / 30);\n\n        data.months = months % 12;\n        years += absRound(months / 12);\n\n        data.years = years;\n    }\n\n    // left zero fill a number\n    // see http://jsperf.com/left-zero-filling for performance comparison\n    function leftZeroFill(number, targetLength) {\n        var output = number + '';\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return output;\n    }\n\n    // helper function for _.addTime and _.subtractTime\n    function addOrSubtractDurationFromMoment(mom, duration, isAdding) {\n        var ms = duration._milliseconds,\n            d = duration._days,\n            M = duration._months,\n            currentDate;\n\n        if (ms) {\n            mom._d.setTime(+mom + ms * isAdding);\n        }\n        if (d) {\n            mom.date(mom.date() + d * isAdding);\n        }\n        if (M) {\n            currentDate = mom.date();\n            mom.date(1)\n                .month(mom.month() + M * isAdding)\n                .date(Math.min(currentDate, mom.daysInMonth()));\n        }\n    }\n\n    // check if is an array\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function dateFromArray(input) {\n        return new Date(input[0], input[1] || 0, input[2] || 1, input[3] || 0, input[4] || 0, input[5] || 0, input[6] || 0);\n    }\n\n    // format date using native date object\n    function formatMoment(m, inputString) {\n        var currentMonth = m.month(),\n            currentDate = m.date(),\n            currentYear = m.year(),\n            currentDay = m.day(),\n            currentHours = m.hours(),\n            currentMinutes = m.minutes(),\n            currentSeconds = m.seconds(),\n            currentMilliseconds = m.milliseconds(),\n            currentZone = -m.zone(),\n            ordinal = moment.ordinal,\n            meridiem = moment.meridiem;\n        // check if the character is a format\n        // return formatted string or non string.\n        //\n        // uses switch/case instead of an object of named functions (like http://phpjs.org/functions/date:380)\n        // for minification and performance\n        // see http://jsperf.com/object-of-functions-vs-switch for performance comparison\n        function replaceFunction(input) {\n            // create a couple variables to be used later inside one of the cases.\n            var a, b;\n            switch (input) {\n                // MONTH\n            case 'M' :\n                return currentMonth + 1;\n            case 'Mo' :\n                return (currentMonth + 1) + ordinal(currentMonth + 1);\n            case 'MM' :\n                return leftZeroFill(currentMonth + 1, 2);\n            case 'MMM' :\n                return moment.monthsShort[currentMonth];\n            case 'MMMM' :\n                return moment.months[currentMonth];\n            // DAY OF MONTH\n            case 'D' :\n                return currentDate;\n            case 'Do' :\n                return currentDate + ordinal(currentDate);\n            case 'DD' :\n                return leftZeroFill(currentDate, 2);\n            // DAY OF YEAR\n            case 'DDD' :\n                a = new Date(currentYear, currentMonth, currentDate);\n                b = new Date(currentYear, 0, 1);\n                return ~~ (((a - b) / 864e5) + 1.5);\n            case 'DDDo' :\n                a = replaceFunction('DDD');\n                return a + ordinal(a);\n            case 'DDDD' :\n                return leftZeroFill(replaceFunction('DDD'), 3);\n            // WEEKDAY\n            case 'd' :\n                return currentDay;\n            case 'do' :\n                return currentDay + ordinal(currentDay);\n            case 'ddd' :\n                return moment.weekdaysShort[currentDay];\n            case 'dddd' :\n                return moment.weekdays[currentDay];\n            // WEEK OF YEAR\n            case 'w' :\n                a = new Date(currentYear, currentMonth, currentDate - currentDay + 5);\n                b = new Date(a.getFullYear(), 0, 4);\n                return ~~ ((a - b) / 864e5 / 7 + 1.5);\n            case 'wo' :\n                a = replaceFunction('w');\n                return a + ordinal(a);\n            case 'ww' :\n                return leftZeroFill(replaceFunction('w'), 2);\n            // YEAR\n            case 'YY' :\n                return leftZeroFill(currentYear % 100, 2);\n            case 'YYYY' :\n                return currentYear;\n            // AM / PM\n            case 'a' :\n                return meridiem ? meridiem(currentHours, currentMinutes, false) : (currentHours > 11 ? 'pm' : 'am');\n            case 'A' :\n                return meridiem ? meridiem(currentHours, currentMinutes, true) : (currentHours > 11 ? 'PM' : 'AM');\n            // 24 HOUR\n            case 'H' :\n                return currentHours;\n            case 'HH' :\n                return leftZeroFill(currentHours, 2);\n            // 12 HOUR\n            case 'h' :\n                return currentHours % 12 || 12;\n            case 'hh' :\n                return leftZeroFill(currentHours % 12 || 12, 2);\n            // MINUTE\n            case 'm' :\n                return currentMinutes;\n            case 'mm' :\n                return leftZeroFill(currentMinutes, 2);\n            // SECOND\n            case 's' :\n                return currentSeconds;\n            case 'ss' :\n                return leftZeroFill(currentSeconds, 2);\n            // MILLISECONDS\n            case 'S' :\n                return ~~ (currentMilliseconds / 100);\n            case 'SS' :\n                return leftZeroFill(~~(currentMilliseconds / 10), 2);\n            case 'SSS' :\n                return leftZeroFill(currentMilliseconds, 3);\n            // TIMEZONE\n            case 'Z' :\n                return (currentZone < 0 ? '-' : '+') + leftZeroFill(~~(Math.abs(currentZone) / 60), 2) + ':' + leftZeroFill(~~(Math.abs(currentZone) % 60), 2);\n            case 'ZZ' :\n                return (currentZone < 0 ? '-' : '+') + leftZeroFill(~~(10 * Math.abs(currentZone) / 6), 4);\n            // LONG DATES\n            case 'L' :\n            case 'LL' :\n            case 'LLL' :\n            case 'LLLL' :\n            case 'LT' :\n                return formatMoment(m, moment.longDateFormat[input]);\n            // DEFAULT\n            default :\n                return input.replace(/(^\\[)|(\\\\)|\\]$/g, \"\");\n            }\n        }\n        return inputString.replace(formattingTokens, replaceFunction);\n    }\n\n    // get the regex to find the next token\n    function getParseRegexForToken(token) {\n        switch (token) {\n        case 'DDDD':\n            return parseTokenThreeDigits;\n        case 'YYYY':\n            return parseTokenFourDigits;\n        case 'S':\n        case 'SS':\n        case 'SSS':\n        case 'DDD':\n            return parseTokenOneToThreeDigits;\n        case 'MMM':\n        case 'MMMM':\n        case 'ddd':\n        case 'dddd':\n        case 'a':\n        case 'A':\n            return parseTokenWord;\n        case 'Z':\n        case 'ZZ':\n            return parseTokenTimezone;\n        case 'T':\n            return parseTokenT;\n        case 'MM':\n        case 'DD':\n        case 'dd':\n        case 'YY':\n        case 'HH':\n        case 'hh':\n        case 'mm':\n        case 'ss':\n        case 'M':\n        case 'D':\n        case 'd':\n        case 'H':\n        case 'h':\n        case 'm':\n        case 's':\n            return parseTokenOneOrTwoDigits;\n        default :\n            return new RegExp(token.replace('\\\\', ''));\n        }\n    }\n\n    // function to convert string input to date\n    function addTimeToArrayFromToken(token, input, datePartArray, config) {\n        var a;\n        //console.log('addTime', format, input);\n        switch (token) {\n        // MONTH\n        case 'M' : // fall through to MM\n        case 'MM' :\n            datePartArray[1] = (input == null) ? 0 : ~~input - 1;\n            break;\n        case 'MMM' : // fall through to MMMM\n        case 'MMMM' :\n            for (a = 0; a < 12; a++) {\n                if (moment.monthsParse[a].test(input)) {\n                    datePartArray[1] = a;\n                    break;\n                }\n            }\n            break;\n        // DAY OF MONTH\n        case 'D' : // fall through to DDDD\n        case 'DD' : // fall through to DDDD\n        case 'DDD' : // fall through to DDDD\n        case 'DDDD' :\n            datePartArray[2] = ~~input;\n            break;\n        // YEAR\n        case 'YY' :\n            input = ~~input;\n            datePartArray[0] = input + (input > 70 ? 1900 : 2000);\n            break;\n        case 'YYYY' :\n            datePartArray[0] = ~~Math.abs(input);\n            break;\n        // AM / PM\n        case 'a' : // fall through to A\n        case 'A' :\n            config.isPm = ((input + '').toLowerCase() === 'pm');\n            break;\n        // 24 HOUR\n        case 'H' : // fall through to hh\n        case 'HH' : // fall through to hh\n        case 'h' : // fall through to hh\n        case 'hh' :\n            datePartArray[3] = ~~input;\n            break;\n        // MINUTE\n        case 'm' : // fall through to mm\n        case 'mm' :\n            datePartArray[4] = ~~input;\n            break;\n        // SECOND\n        case 's' : // fall through to ss\n        case 'ss' :\n            datePartArray[5] = ~~input;\n            break;\n        // MILLISECOND\n        case 'S' :\n        case 'SS' :\n        case 'SSS' :\n            datePartArray[6] = ~~ (('0.' + input) * 1000);\n            break;\n        // TIMEZONE\n        case 'Z' : // fall through to ZZ\n        case 'ZZ' :\n            config.isUTC = true;\n            a = (input + '').match(parseTimezoneChunker);\n            if (a && a[1]) {\n                config.tzh = ~~a[1];\n            }\n            if (a && a[2]) {\n                config.tzm = ~~a[2];\n            }\n            // reverse offsets\n            if (a && a[0] === '+') {\n                config.tzh = -config.tzh;\n                config.tzm = -config.tzm;\n            }\n            break;\n        }\n    }\n\n    // date from string and format string\n    function makeDateFromStringAndFormat(string, format) {\n        var datePartArray = [0, 0, 1, 0, 0, 0, 0],\n            config = {\n                tzh : 0, // timezone hour offset\n                tzm : 0  // timezone minute offset\n            },\n            tokens = format.match(formattingTokens),\n            i, parsedInput;\n\n        for (i = 0; i < tokens.length; i++) {\n            parsedInput = (getParseRegexForToken(tokens[i]).exec(string) || [])[0];\n            string = string.replace(getParseRegexForToken(tokens[i]), '');\n            addTimeToArrayFromToken(tokens[i], parsedInput, datePartArray, config);\n        }\n        // handle am pm\n        if (config.isPm && datePartArray[3] < 12) {\n            datePartArray[3] += 12;\n        }\n        // if is 12 am, change hours to 0\n        if (config.isPm === false && datePartArray[3] === 12) {\n            datePartArray[3] = 0;\n        }\n        // handle timezone\n        datePartArray[3] += config.tzh;\n        datePartArray[4] += config.tzm;\n        // return\n        return config.isUTC ? new Date(Date.UTC.apply({}, datePartArray)) : dateFromArray(datePartArray);\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if (~~array1[i] !== ~~array2[i]) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    // date from string and array of format strings\n    function makeDateFromStringAndArray(string, formats) {\n        var output,\n            inputParts = string.match(parseMultipleFormatChunker) || [],\n            formattedInputParts,\n            scoreToBeat = 99,\n            i,\n            currentDate,\n            currentScore;\n        for (i = 0; i < formats.length; i++) {\n            currentDate = makeDateFromStringAndFormat(string, formats[i]);\n            formattedInputParts = formatMoment(new Moment(currentDate), formats[i]).match(parseMultipleFormatChunker) || [];\n            currentScore = compareArrays(inputParts, formattedInputParts);\n            if (currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                output = currentDate;\n            }\n        }\n        return output;\n    }\n\n    // date from iso format\n    function makeDateFromString(string) {\n        var format = 'YYYY-MM-DDT',\n            i;\n        if (isoRegex.exec(string)) {\n            for (i = 0; i < 4; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    format += isoTimes[i][0];\n                    break;\n                }\n            }\n            return parseTokenTimezone.exec(string) ? \n                makeDateFromStringAndFormat(string, format + ' Z') :\n                makeDateFromStringAndFormat(string, format);\n        }\n        return new Date(string);\n    }\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture) {\n        var rt = moment.relativeTime[string];\n        return (typeof rt === 'function') ?\n            rt(number || 1, !!withoutSuffix, string, isFuture) :\n            rt.replace(/%d/i, number || 1);\n    }\n\n    function relativeTime(milliseconds, withoutSuffix) {\n        var seconds = round(Math.abs(milliseconds) / 1000),\n            minutes = round(seconds / 60),\n            hours = round(minutes / 60),\n            days = round(hours / 24),\n            years = round(days / 365),\n            args = seconds < 45 && ['s', seconds] ||\n                minutes === 1 && ['m'] ||\n                minutes < 45 && ['mm', minutes] ||\n                hours === 1 && ['h'] ||\n                hours < 22 && ['hh', hours] ||\n                days === 1 && ['d'] ||\n                days <= 25 && ['dd', days] ||\n                days <= 45 && ['M'] ||\n                days < 345 && ['MM', round(days / 30)] ||\n                years === 1 && ['y'] || ['yy', years];\n        args[2] = withoutSuffix;\n        args[3] = milliseconds > 0;\n        return substituteTimeAgo.apply({}, args);\n    }\n\n    moment = function (input, format) {\n        if (input === null || input === '') {\n            return null;\n        }\n        var date,\n            matched,\n            isUTC;\n        // parse Moment object\n        if (moment.isMoment(input)) {\n            date = new Date(+input._d);\n            isUTC = input._isUTC;\n        // parse string and format\n        } else if (format) {\n            if (isArray(format)) {\n                date = makeDateFromStringAndArray(input, format);\n            } else {\n                date = makeDateFromStringAndFormat(input, format);\n            }\n        // evaluate it as a JSON-encoded date\n        } else {\n            matched = aspNetJsonRegex.exec(input);\n            date = input === undefined ? new Date() :\n                matched ? new Date(+matched[1]) :\n                input instanceof Date ? input :\n                isArray(input) ? dateFromArray(input) :\n                typeof input === 'string' ? makeDateFromString(input) :\n                new Date(input);\n        }\n        return new Moment(date, isUTC);\n    };\n\n    // creating with utc\n    moment.utc = function (input, format) {\n        if (isArray(input)) {\n            return new Moment(new Date(Date.UTC.apply({}, input)), true);\n        }\n        return (format && input) ?\n            moment(input + ' +0000', format + ' Z').utc() :\n            moment(input && !parseTokenTimezone.exec(input) ? input + '+0000' : input).utc();\n    };\n\n    // creating with unix timestamp (in seconds)\n    moment.unix = function (input) {\n        return moment(input * 1000);\n    };\n\n    // duration\n    moment.duration = function (input, key) {\n        var isDuration = moment.isDuration(input),\n            isNumber = (typeof input === 'number'),\n            duration = (isDuration ? input._data : (isNumber ? {} : input));\n\n        if (isNumber) {\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        }\n\n        return new Duration(duration);\n    };\n\n    // humanizeDuration\n    // This method is deprecated in favor of the new Duration object.  Please\n    // see the moment.duration method.\n    moment.humanizeDuration = function (num, type, withSuffix) {\n        return moment.duration(num, type === true ? null : type).humanize(type === true ? true : withSuffix);\n    };\n\n    // version number\n    moment.version = VERSION;\n\n    // default format\n    moment.defaultFormat = isoFormat;\n\n    // language switching and caching\n    moment.lang = function (key, values) {\n        var i, req,\n            parse = [];\n        if (!key) {\n            return currentLanguage;\n        }\n        if (values) {\n            for (i = 0; i < 12; i++) {\n                parse[i] = new RegExp('^' + values.months[i] + '|^' + values.monthsShort[i].replace('.', ''), 'i');\n            }\n            values.monthsParse = values.monthsParse || parse;\n            languages[key] = values;\n        }\n        if (languages[key]) {\n            for (i = 0; i < langConfigProperties.length; i++) {\n                moment[langConfigProperties[i]] = languages[key][langConfigProperties[i]] || \n                    languages.en[langConfigProperties[i]];\n            }\n            currentLanguage = key;\n        } else {\n            if (hasModule) {\n                req = require('./lang/' + key);\n                moment.lang(key, req);\n            }\n        }\n    };\n\n    // set default language\n    moment.lang('en', {\n        months : \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n        monthsShort : \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n        weekdays : \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n        weekdaysShort : \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n        longDateFormat : {\n            LT : \"h:mm A\",\n            L : \"MM/DD/YYYY\",\n            LL : \"MMMM D YYYY\",\n            LLL : \"MMMM D YYYY LT\",\n            LLLL : \"dddd, MMMM D YYYY LT\"\n        },\n        meridiem : false,\n        calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : \"in %s\",\n            past : \"%s ago\",\n            s : \"a few seconds\",\n            m : \"a minute\",\n            mm : \"%d minutes\",\n            h : \"an hour\",\n            hh : \"%d hours\",\n            d : \"a day\",\n            dd : \"%d days\",\n            M : \"a month\",\n            MM : \"%d months\",\n            y : \"a year\",\n            yy : \"%d years\"\n        },\n        ordinal : function (number) {\n            var b = number % 10;\n            return (~~ (number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        }\n    });\n\n    // compare moment object\n    moment.isMoment = function (obj) {\n        return obj instanceof Moment;\n    };\n\n    // for typechecking Duration objects\n    moment.isDuration = function (obj) {\n        return obj instanceof Duration;\n    };\n\n    // shortcut for prototype\n    moment.fn = Moment.prototype = {\n\n        clone : function () {\n            return moment(this);\n        },\n\n        valueOf : function () {\n            return +this._d;\n        },\n\n        unix : function () {\n            return Math.floor(+this._d / 1000);\n        },\n\n        toString : function () {\n            return this._d.toString();\n        },\n\n        toDate : function () {\n            return this._d;\n        },\n\n        utc : function () {\n            this._isUTC = true;\n            return this;\n        },\n\n        local : function () {\n            this._isUTC = false;\n            return this;\n        },\n\n        format : function (inputString) {\n            return formatMoment(this, inputString ? inputString : moment.defaultFormat);\n        },\n\n        add : function (input, val) {\n            var dur = val ? moment.duration(+val, input) : moment.duration(input);\n            addOrSubtractDurationFromMoment(this, dur, 1);\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur = val ? moment.duration(+val, input) : moment.duration(input);\n            addOrSubtractDurationFromMoment(this, dur, -1);\n            return this;\n        },\n\n        diff : function (input, val, asFloat) {\n            var inputMoment = this._isUTC ? moment(input).utc() : moment(input).local(),\n                zoneDiff = (this.zone() - inputMoment.zone()) * 6e4,\n                diff = this._d - inputMoment._d - zoneDiff,\n                year = this.year() - inputMoment.year(),\n                month = this.month() - inputMoment.month(),\n                date = this.date() - inputMoment.date(),\n                output;\n            if (val === 'months') {\n                output = year * 12 + month + date / 30;\n            } else if (val === 'years') {\n                output = year + (month + date / 30) / 12;\n            } else {\n                output = val === 'seconds' ? diff / 1e3 : // 1000\n                    val === 'minutes' ? diff / 6e4 : // 1000 * 60\n                    val === 'hours' ? diff / 36e5 : // 1000 * 60 * 60\n                    val === 'days' ? diff / 864e5 : // 1000 * 60 * 60 * 24\n                    val === 'weeks' ? diff / 6048e5 : // 1000 * 60 * 60 * 24 * 7\n                    diff;\n            }\n            return asFloat ? output : round(output);\n        },\n\n        from : function (time, withoutSuffix) {\n            return moment.duration(this.diff(time)).humanize(!withoutSuffix);\n        },\n\n        fromNow : function (withoutSuffix) {\n            return this.from(moment(), withoutSuffix);\n        },\n\n        calendar : function () {\n            var diff = this.diff(moment().sod(), 'days', true),\n                calendar = moment.calendar,\n                allElse = calendar.sameElse,\n                format = diff < -6 ? allElse :\n                diff < -1 ? calendar.lastWeek :\n                diff < 0 ? calendar.lastDay :\n                diff < 1 ? calendar.sameDay :\n                diff < 2 ? calendar.nextDay :\n                diff < 7 ? calendar.nextWeek : allElse;\n            return this.format(typeof format === 'function' ? format.apply(this) : format);\n        },\n\n        isLeapYear : function () {\n            var year = this.year();\n            return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n        },\n\n        isDST : function () {\n            return (this.zone() < moment([this.year()]).zone() || \n                this.zone() < moment([this.year(), 5]).zone());\n        },\n\n        day : function (input) {\n            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n            return input == null ? day :\n                this.add({ d : input - day });\n        },\n\n        sod: function () {\n            return moment(this)\n                .hours(0)\n                .minutes(0)\n                .seconds(0)\n                .milliseconds(0);\n        },\n\n        eod: function () {\n            // end of day = start of day plus 1 day, minus 1 millisecond\n            return this.sod().add({\n                d : 1,\n                ms : -1\n            });\n        },\n\n        zone : function () {\n            return this._isUTC ? 0 : this._d.getTimezoneOffset();\n        },\n\n        daysInMonth : function () {\n            return moment(this).month(this.month() + 1).date(0).date();\n        }\n    };\n\n    // helper for adding shortcuts\n    function makeGetterAndSetter(name, key) {\n        moment.fn[name] = function (input) {\n            var utc = this._isUTC ? 'UTC' : '';\n            if (input != null) {\n                this._d['set' + utc + key](input);\n                return this;\n            } else {\n                return this._d['get' + utc + key]();\n            }\n        };\n    }\n\n    // loop through and add shortcuts (Month, Date, Hours, Minutes, Seconds, Milliseconds)\n    for (i = 0; i < proxyGettersAndSetters.length; i ++) {\n        makeGetterAndSetter(proxyGettersAndSetters[i].toLowerCase(), proxyGettersAndSetters[i]);\n    }\n\n    // add shortcut for year (uses different syntax than the getter/setter 'year' == 'FullYear')\n    makeGetterAndSetter('year', 'FullYear');\n\n    moment.duration.fn = Duration.prototype = {\n        weeks : function () {\n            return absRound(this.days() / 7);\n        },\n\n        valueOf : function () {\n            return this._milliseconds +\n              this._days * 864e5 +\n              this._months * 2592e6;\n        },\n\n        humanize : function (withSuffix) {\n            var difference = +this,\n                rel = moment.relativeTime,\n                output = relativeTime(difference, !withSuffix);\n\n            if (withSuffix) {\n                output = (difference <= 0 ? rel.past : rel.future).replace(/%s/i, output);\n            }\n\n            return output;\n        }\n    };\n\n    function makeDurationGetter(name) {\n        moment.duration.fn[name] = function () {\n            return this._data[name];\n        };\n    }\n\n    function makeDurationAsGetter(name, factor) {\n        moment.duration.fn['as' + name] = function () {\n            return +this / factor;\n        };\n    }\n\n    for (i in unitMillisecondFactors) {\n        if (unitMillisecondFactors.hasOwnProperty(i)) {\n            makeDurationAsGetter(i, unitMillisecondFactors[i]);\n            makeDurationGetter(i.toLowerCase());\n        }\n    }\n\n    makeDurationAsGetter('Weeks', 6048e5);\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = moment;\n    }\n    /*global ender:false */\n    if (typeof window !== 'undefined' && typeof ender === 'undefined') {\n        window.moment = moment;\n    }\n    /*global define:false */\n    if (typeof define === \"function\" && define.amd) {\n        define(\"moment\", [], function () {\n            return moment;\n        });\n    }\n})(Date);\n\n//@ sourceURL=/node_modules/moment/moment.js"));

require.define("/lib/component/run.js",Function(['require','module','exports','__dirname','__filename','process'],"var t = require('../templates');\nvar common = require('../common');\nvar moment = require('moment');\nvar bean = require('bean');\nvar step = require('step');\nvar bonzo = require('bonzo');\nvar qwery = require('qwery');\nvar w = require('../window');\nvar v = require('valentine');\nvar series = require('../series');\nseries = series.series;\n\nexports.init = function(page, cb) {\n    page.handle(/^\\/(.+)\\/build\\/(.+)$/, function(from, to, params) {\n        var buildId = parseInt(params[0], 10);\n        step(function() {\n            page.req('previous_build', buildId, this);\n        }, function(err, previousBuildId) {\n            if(previousBuildId) {\n                page.req('build', previousBuildId, this);\n            } else {\n                this(null, null);\n            }\n        }, function(err, previousBuild) {\n            page.req('build', buildId, this.parallel());\n            this.parallel()(null, previousBuild);\n        }, function(err, modules, previousModules) {\n            console.log('rendering build', modules, previousModules);\n            if(err) {\n                page.body.html(t.error.render({\n                    title : 'Build #' + buildId + ' did not succeed',\n                    message : err.err,\n                    details : err.msg\n                }));\n                return;\n            }\n            v.each(modules, function(module) {\n                v.each(module.test_cases, function(test) {\n                    test.id = 'test-' + module.name + '-' + test.name;\n                });\n            });\n            var seriesMap = {};\n            v.each(series, function(series) {\n                seriesMap[series.key] = series;\n            });\n            page.body.html(t.run.render({\n                modules : modules,\n                series : series,\n                id : buildId\n            }));\n            var select = bonzo(qwery('select'));\n            bean.add(select[0], 'change', function() {\n                setSeries(select.val());\n            });\n            var chart = w.nv.models.bulletChart();\n            v.each(modules, function(module) {\n                v.each(module.test_cases, function(test) {\n                    bean.add(qwery('#' + test.id)[0].parentNode.parentNode, 'click', function() {\n                        page.go('/' + page.projectId + '/test/' + module.name + '/' + test.name);\n                    });\n                });\n            });\n            var currentSeries = null;\n            var setSeries = function(key) {\n                currentSeries = key;\n                v.each(modules, function(module) {\n                    var previousModule = previousModules ? common.findBy(previousModules, 'name', module.name) : null;\n                    console.log('previousModule', module.name);\n                    v.each(module.test_cases, function(test) {\n                        var previousTest = previousModule ? common.findBy(previousModule.test_cases, 'name', test.name) : null;\n                        console.log('previousTest', test.name);\n                        var id = 'test-' + module.name + '-' + test.name;\n                        w.el(id).empty();\n                        if(!test.successful) {\n                            bonzo(w.el(id)[0].parentNode).html('<p>' + test.name + ' did not succeed.</p>');\n                            return;\n                        }\n                        var data = test.result[key];\n\n                        // TODO make it real\n                        data.previous = previousTest && previousTest.successful ? previousTest.result[key] : data;\n\n                        var ranges = [data.min, data.mean, data.max];\n                        w.d3.select('#' + id).datum({\n                            title: test.name,\n                            subtitle: seriesMap[key].units,\n                            ranges: ranges,\n                            measures: [data.mean],\n                            markers: [data.previous.mean]\n                        }).call(chart);\n                        bonzo(qwery('#' + id + ' .measure')).css('fill', data.mean > data.previous.mean ? (seriesMap[key].higherBetter ? '#0f0' : '#f00') : (seriesMap[key].higherBetter ? '#f00' : '#0f0'));\n                    });\n                });\n            };\n            setSeries(series[0].key);\n            w.nv.utils.windowResize(function() {\n                setSeries(currentSeries);\n            });\n        });\n    });\n    cb();\n};\n\n//@ sourceURL=/lib/component/run.js"));

require.define("/lib/series.js",Function(['require','module','exports','__dirname','__filename','process'],"var series = [\n    {\n        name : 'Time',\n        key : 'duration',\n        units : 'milliseconds',\n        unitsShort : 'ms',\n        precision : 0,\n        higherBetter : false,\n        adapt : function(val) {\n            return {\n                val : val,\n                unitsShort : 'ms',\n                units : 'milliseconds'\n            };\n        }\n    }, {\n        name : 'Average Memory Utilization',\n        key : 'used_memory',\n        units : 'bytes',\n        unitsShort : 'b',\n        precision : 0,\n        higherBetter : false,\n        adapt : function(val) {\n            return {\n                val : val,\n                unitsShort : 'b',\n                units : 'bytes'\n            };\n        }\n    }, {\n        name : 'Average CPU Load',\n        key : 'cpu_load',\n        units : '',\n        unitsShort : '',\n        precision : 2,\n        higherBetter : false,\n        adapt : function(val) {\n            return {\n                val : val,\n                unitsShort : '',\n                units : ''\n            };\n        }\n    }, {\n        name : 'Average CPU Utilization',\n        key : 'cpu_util',\n        units : 'percent',\n        unitsShort : '%',\n        precision : 2,\n        higherBetter : false,\n        adapt : function(val) {\n            return {\n                val : val,\n                unitsShort : '%',\n                units : 'percent'\n            };\n        }\n    }\n];\nexports.series = series;\n\n//@ sourceURL=/lib/series.js"));

require.define("/lib/component/test.js",Function(['require','module','exports','__dirname','__filename','process'],"var v = require('valentine');\nvar qwery = require('qwery');\nvar bonzo = require('bonzo');\nvar bean = require('bean');\nvar t = require('../templates');\nvar w = require('../window');\nvar series = require('../series');\nseries = series.series;\n\nexports.init = function(page, cb) {\n    page.handle(/^\\/(.+)\\/test\\/(.+)\\/(.+)$/, function(from, to, params) {\n        var state = {\n            projectId : page.projectId,\n            moduleName : params[0],\n            testName : params[1]\n        };\n        page.req('test_builds', state, function(_, runs) {\n            v.each(series, function(series) {\n                var lag = null;\n                var key = series.key;\n                v.each(runs, function(run) {\n                    run[key] = run[key].mean;\n                    if(lag === null || run[key] === null) {\n                        if(run[key] === null) {\n                            run[key + '_label'] = '-';\n                        } else {\n                            run[key + '_label'] = run[key] + series.unitsShort;\n                        }\n                        run[key + '_class'] = '';\n                    } else {\n                        var delta = run[key] - lag;\n                        run[key + '_label'] = run[key] + series.unitsShort + ' (' + (series.precision > 0 ? delta.toPrecision(series.precision) : delta) + series.unitsShort + ')';\n                        run[key + '_class'] = delta > 0 ? (series.higherBetter ? 'app-good' : 'app-bad') : (series.higherBetter ? 'app-bad' : 'app-good');\n                    }\n                    lag = run[key];\n                });\n            });\n            page.body.html(t.test.render({\n                moduleName : state.moduleName,\n                testName : state.testName,\n                runs : runs\n            }));\n            var renderCharts = function() {\n                v.each(series, function(series) {\n                    var key = series.key;\n                    var chart = w.nv.models.lineChart();\n                    chart.tooltipContent(function(_, x, y, e, graph) {\n                        return '<h3>' + runs[x].build_id + '</h3>' + '<p>' + runs[x][key] + ' ' + series.units + '</p>';\n                    });\n                    chart.yAxis.axisLabel(series.name + ' (' + series.unitsShort + ')');\n                    chart.showLegend(false);\n                    var values = [];\n                    v.each(runs, function(run, i) {\n                        if(run[key] !== null) {\n                            values.push({\n                                x : i,\n                                y : run[key]\n                            });\n                        }\n                    });\n                    bonzo(qwery('#g-' + key)).empty();\n                    var sel = w.d3.select('#g-' + key).datum([\n                        {\n                            values : values\n                        }\n                    ]);\n                    var obj = chart(sel);\n                    var point = null;\n                    sel.on('click', function() {\n                        if(point !== null) {\n                            page.go('/' + state.projectId + '/compare/' + (runs[point - 1] ? runs[point - 1].build_id : '') + '-' + runs[point].build_id + '/' + state.moduleName + '-' + state.moduleName + '/' + state.testName + '-' + state.testName);\n                        }\n                    });\n                    sel.selectAll('.x').selectAll('.axis').remove();\n                    var tooltipShow = obj.dispatch.on('tooltipShow');\n                    var tooltipHide = obj.dispatch.on('tooltipHide');\n                    obj.dispatch.on('tooltipShow', function(e) {\n                        if(e.pointIndex === 0) {\n                            point = 1;\n                        } else {\n                            point = e.pointIndex;\n                        }\n                        tooltipShow(e);\n                    });\n                    obj.dispatch.on('tooltipHide', function(e) {\n                        point = null;\n                        tooltipHide(e);\n                    });\n                });\n            };\n            renderCharts();\n            w.nv.utils.windowResize(renderCharts);\n        });\n    });\n    cb(null);\n};\n\n//@ sourceURL=/lib/component/test.js"));

require.define("/lib/component/projectEdit.js",Function(['require','module','exports','__dirname','__filename','process'],"var t = require('../templates');\nvar w = require('../window');\nvar common = require('../common');\nvar v = require('valentine');\nvar qwery = require('qwery');\nvar bean = require('bean');\nvar bonzo = require('bonzo');\nvar moment = require('moment');\n\nexports.init = function(page, cb) {\n    var gather = function() {\n        var ondemand = w.el('ondemand').attr('checked');\n        return {\n            id : w.el('id').val(),\n            repo_url : w.el('repo_url').val(),\n            branch : w.el('branch').val(),\n            build_instructions : v.reject(v.map(w.el('build_instructions').val().split('\\n'), v.trim), v.is.emp),\n            polling_strategy : (ondemand ? 'ondemand' : {\n                time : parseInt(bonzo(qwery('#time')).val(), 10)\n            })\n        };\n    };\n    var augment = function() {\n        bean.add(w.el('ondemand')[0], 'click', function() {\n            console.log('click', gather());\n            if(gather().polling_strategy === 'ondemand') {\n                w.el('time').attr('disabled', 'disabled');\n            } else {\n                w.el('time').removeAttr('disabled');\n            }\n        });\n    };\n    var adaptToRender = function(project) {\n        return {\n            id : project.id,\n            repo_url : project.repo_url,\n            branch : project.branch,\n            build_instructions : project.build_instructions.join('\\n'),\n            ondemand : project.polling_strategy === 'ondemand',\n            polling_strategy : project.polling_strategy\n        };\n    };\n    page.handle(/^\\/add$/, function() {\n        page.body.html(t.projectEdit.render({\n            project : adaptToRender({\n                id : 'Perforator',\n                repo_url : 'file:///home/tahu/Desktop/PERFORATOR',\n                branch : 'origin/master',\n                build_instructions : [ './rebar get-deps', './rebar compile', './rebar perf' ],\n                polling_strategy : 'ondemand'\n            }),\n            action : 'Add project'\n        }, t));\n        augment();\n        bean.add(qwery('form')[0], 'submit', function(e) {\n            var project = gather();\n            page.req('project/new', project, function(err) {\n                if(err) {\n                    throw common.error(err);\n                }\n                bean.fire(page, 'projectAdded', [project]);\n                page.go('/' + project.id);\n            });\n            e.preventDefault();\n        });\n    });\n    page.handle(/^\\/(.+)\\/edit$/, function(from, to, params) {\n        page.req('project', page.projectId, function(err, project) {\n            if(err) {\n                throw common.error(err);\n            }\n            page.body.html(t.projectEdit.render({\n                project : adaptToRender(project),\n                action : 'Save project'\n            }, t));\n            augment();\n            bean.add(qwery('form')[0], 'submit', function(e) {\n                var p = gather();\n                p.id = project.id;\n                page.req('project/update', p);\n                bean.fire(page, 'projectUpdated', [p]);\n                page.go('/' + p.id);\n                e.preventDefault();\n            });\n        });\n    });\n    cb();\n};\n\n//@ sourceURL=/lib/component/projectEdit.js"));

require.define("/lib/component/compare.js",Function(['require','module','exports','__dirname','__filename','process'],"var t = require('../templates');\nvar v = require('valentine');\nvar qwery = require('qwery');\nvar bean = require('bean');\nvar step = require('step');\nvar bonzo = require('bonzo');\nvar moment = require('moment');\nvar series = require('../series');\nseries = series.series;\n\nexports.init = function(page, cb) {\n    page.handle(/^\\/(.+)\\/compare\\/(.+)\\/(.+)\\/(.+)$/, function(from, to, params) {\n        var state = {\n            projectId : page.projectId,\n            runIds : params[0].split('-'),\n            moduleNames : params[1].split('-'),\n            testNames : params[2].split('-')\n        };\n        var runs = [];\n        v.each(state.runIds, function(_, i) {\n            runs.push({\n                projectId : state.projectId,\n                runId : parseInt(state.runIds[i], 10),\n                moduleName : state.moduleNames[i],\n                testName : state.testNames[i]\n            });\n        });\n        step(function() {\n            var group = this.group();\n            page.req('builds', state.projectId, group());\n            v.each(runs, function(run) {\n                var runCb = group();\n                var modulesCb = group();\n                var testsCb = group();\n                page.req('build', run.runId, function(_, modules) {\n                    modulesCb(null, modules);\n\n                    var tests = null;\n                    v.each(modules, function(module) {\n                        if(module.name === run.moduleName) {\n                            tests = module.test_cases;\n                            v.each(tests, function(test) {\n                                if(test.name === run.testName) {\n                                    v.each(test.result, function(key, value) {\n                                        test.result[key] = value.mean;\n                                    });\n                                    test.result.build_id = run.runId;\n                                    runCb(null, test.result);\n                                }\n                            });\n                        }\n                    });\n                    testsCb(null, tests);\n                });\n            });\n        }, function(_, group) {\n            console.log('compare', group);\n            var runA = group[1];\n            var modulesA = group[2];\n            var testsA = group[3];\n\n            var runB = group[4];\n            var modulesB = group[5];\n            var testsB = group[6];\n\n            var numbers = [];\n            v.each(series, function(series) {\n                numbers.push({\n                    series : series.name,\n                    units : series.unitsShort,\n                    A : runA[series.key],\n                    B : runB[series.key],\n                    delta : runB[series.key] - runA[series.key]\n                });\n            });\n            page.body.html(t.compare.render({\n                runA : runA,\n                runB : runB,\n                modulesA : modulesA,\n                modulesB : modulesB,\n                runs : group[0],\n                testsA : testsA,\n                testsB : testsB,\n                commits : [],// TODO fill with real data\n                numbers : numbers\n            }));\n            bonzo(qwery('#runA')).val(String(runs[0].runId));\n            bonzo(qwery('#runB')).val(String(runs[1].runId));\n            bonzo(qwery('#moduleA')).val(runs[0].moduleName);\n            bonzo(qwery('#moduleB')).val(runs[1].moduleName);\n            bonzo(qwery('#testA')).val(runs[0].testName);\n            bonzo(qwery('#testB')).val(runs[1].testName);\n            var change = function() {\n                var runA = bonzo(qwery('#runA')).val();\n                var runB = bonzo(qwery('#runB')).val();\n                var moduleA = bonzo(qwery('#moduleA')).val();\n                var moduleB = bonzo(qwery('#moduleB')).val();\n                var testA = bonzo(qwery('#testA')).val();\n                var testB = bonzo(qwery('#testB')).val();\n                page.go('/' + state.projectId + '/compare/' + runA + '-' + runB + '/' + moduleA + '-' + moduleB + '/' + testA + '-' + testB);\n            };\n            v.each(qwery('select'), function(select) {\n                bean.add(select, 'change', change);\n            });\n        });\n    });\n    cb();\n};\n\n//@ sourceURL=/lib/component/compare.js"));

require.define("/lib/component/sidebar.js",Function(['require','module','exports','__dirname','__filename','process'],"var w = require('../window');\nvar t = require('../templates');\nvar bean = require('bean');\nvar qwery = require('qwery');\nvar bonzo = require('bonzo');\nvar v = require('valentine');\nvar common = require('../common');\n\nexports.init = function(page, cb) {\n    var insertProject = function(projects, project) {\n        for(var i = 0; i < projects.length; i += 1) {\n            if(projects[i].id > project.id) {\n                projects.splice(i, 0, project);\n                return {\n                    after : false,\n                    project : projects[i + 1]\n                };\n            }\n        }\n        projects.push(project);\n        return {\n            after : projects.length === 1 ? null : true,\n            project : projects[projects.length - 2]\n        };\n    };\n\n    var replaceProject = function(projects, project) {\n        for(var i = 0; i < projects.length; i += 1) {\n            if(projects[i].id === project.id) {\n                projects[i] = project;\n                return;\n            }\n        }\n    };\n\n    page.req('projects', null, function(_, projects) {\n        var updateSidebar = function() {\n            v.each(projects, function(p) {\n                if(page.projectId === p.id) {\n                    p.opened = true;\n                } else {\n                    p.opened = false;\n                }\n            });\n            w.el('sidebar').html(t.sidebar.render({\n                projectId : page.projectId,\n                projects : projects,\n                workers : page.store.builders\n            }, t));\n            bean.add(w.el('build-now')[0], 'click', function(e) {\n                common.notify('A new build has been started');\n                page.req('build_now', page.projectId);\n                e.preventDefault();\n            });\n        };\n        bean.add(page, 'projectId', updateSidebar);\n        updateSidebar();\n        var addBuilderListener = function(builder) {\n            var onUpdate = function() {\n                w.el('builder-li-' + builder.name).replaceWith(t.worker.render(builder));\n            };\n            var onDelete = function() {\n                bean.remove(builder, 'update', onUpdate);\n                bean.remove(builder, 'delete', onDelete);\n            };\n            bean.add(builder, 'update', onUpdate);\n            bean.add(builder, 'delete', onDelete);\n        };\n        bean.add(page.store.builders, 'endUpdate', function(changes) {\n            bonzo(qwery('.app-worker')).remove();\n            var html = '';\n            v.each(page.store.builders, function(builder) {\n                html += t.worker.render(builder);\n            });\n            v.each(changes.inserted, addBuilderListener);\n            w.el('sidebar').append(html);\n        });\n        v.each(page.store.builders, addBuilderListener);\n        bean.add(page, 'projectUpdated', function(project) {\n            replaceProject(projects, project);\n            if(project.id === page.projectId) {\n                project.opened = true;\n            }\n            w.el('project-' + project.id).replaceWith(t.project.render(project));\n        });\n        bean.add(page, 'projectAdded', function(project) {\n            if(project.id === page.projectId) {\n                project.opened = true;\n            }\n            var position = insertProject(projects, project);\n            var html = t.project.render(project);\n            if(position.after === null) {\n                w.el('projects-header').after(html);\n            } else {\n                if(position.after) {\n                    w.el('project-' + position.project.id).after(html);\n                } else {\n                    w.el('project-' + position.project.id).before(html);\n                }\n            }\n        });\n    });\n    cb(null);\n};\n\n//@ sourceURL=/lib/component/sidebar.js"));

require.define("/lib/index.js",Function(['require','module','exports','__dirname','__filename','process'],"var domready = require('domready');\nvar step = require('step');\nvar bean = require('bean');\n\nvar t = require('./templates');\nvar w = require('./window');\nvar page = require('./page');\n\nvar storeBuilders = require('./component/storeBuilders');\nvar log = require('./component/log');\nvar run = require('./component/run');\nvar test = require('./component/test');\nvar projectEdit = require('./component/projectEdit');\nvar compare = require('./component/compare');\nvar sidebar = require('./component/sidebar');\n\nstep(function() {\n    var socket = w.createSocket();\n    this.parallel()(null, page.create(socket));\n    socket.onmessage = function(event) {\n        event = JSON.parse(event.data.toString());\n        bean.fire(socket, event.type, [event.err, event.msg]);\n    };\n    socket.onopen = this.parallel();\n\n    domready(this.parallel());\n}, function(_, page) {\n    page.handle('/static/COPYING', function() {\n        w.setHref('/static/COPYING');\n    });\n\n    // the order is important\n    storeBuilders.init(page, this.parallel());\n    run.init(page, this.parallel());\n    test.init(page, this.parallel());\n    projectEdit.init(page, this.parallel());\n    compare.init(page, this.parallel());\n    log.init(page, this.parallel());\n    sidebar.init(page, this.parallel());\n\n    page.start();\n});\n\n//@ sourceURL=/lib/index.js"));
require("/lib/index.js");
})();
